(this["webpackJsonptrain-ticket"]=this["webpackJsonptrain-ticket"]||[]).push([[4],{13:function(e,t,n){},15:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(5),i=n.n(c),s=(n(19),n(20),Object(a.memo)((function(e){var t=e.date,n=e.prev,c=e.next,s=e.isPrevDisabled,o=e.isNextDisabled,u=Object(a.useMemo)((function(){var e=i()(t);return e.format("M \u6708 D \u65e5 ")+e.locale("zh-cn").format("ddd")}),[t]);return r.a.createElement("div",{className:"nav"},r.a.createElement("span",{onClick:function(){return n()},className:["nav-prev",s?"nav-disabled":""].filter(Boolean).join(" ")},"\u524d\u4e00\u5929"),r.a.createElement("span",{className:"nav-current"},u),r.a.createElement("span",{onClick:function(){return c()},className:["nav-next",o?"nav-disabled":""].filter(Boolean).join(" ")},"\u540e\u4e00\u5929"))})));t.a=s},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(2);function c(e,t,n){var c=Object(r.b)(e)<=Object(r.b)(),i=Object(r.b)(e)-Object(r.b)()>1728e6,s=Object(a.useCallback)((function(){c||t()}),[c,t]),o=Object(a.useCallback)((function(){i||n()}),[i,n]);return{isPrevDisabled:c,isNextDisabled:i,prev:s,next:o}}},2:function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()}function r(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:350;return function(){for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];var s=this;n&&(clearTimeout(n),t.apply(s,c)),n=setTimeout((function(){e.apply(s,c)}),a)}}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}))},20:function(e,t,n){},21:function(e,t,n){"use strict";e.exports=function(e,t,n){if((t-=(e+="").length)<=0)return e;n||0===n||(n=" ");if(" "===(n+="")&&t<10)return a[t]+e;var r="";for(;1&t&&(r+=n),t>>=1;)n+=n;return r+e};var a=[""," ","  ","   ","    ","     ","      ","       ","        ","         "]},50:function(e,t,n){e.exports=n(70)},51:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},7:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(13);t.a=function(e){var t=e.title,n=e.isBackVisible,a=void 0===n||n,c=e.handleBack;return r.a.createElement("div",{className:"header"},a?r.a.createElement("div",{className:"header-back",onClick:c},r.a.createElement("svg",{width:"42",height:"42"},r.a.createElement("polyline",{points:"25,13 16,21 25,29",stroke:"#fff",strokeWidth:"2",fill:"none"}))):null,r.a.createElement("h1",{className:"header-title"},t))}},70:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"setFrom",(function(){return m})),n.d(a,"setTo",(function(){return E})),n.d(a,"setDate",(function(){return v})),n.d(a,"nextDate",(function(){return p})),n.d(a,"prevDate",(function(){return h})),n.d(a,"setHighSpeed",(function(){return S})),n.d(a,"toggleHighSpeed",(function(){return y})),n.d(a,"setTrainList",(function(){return b})),n.d(a,"toggleOrderType",(function(){return k})),n.d(a,"toggleHasTicket",(function(){return O})),n.d(a,"setTicketTypes",(function(){return j})),n.d(a,"setCheckedTicketTypes",(function(){return g})),n.d(a,"setTrainTypes",(function(){return _})),n.d(a,"setCheckedTrainTypes",(function(){return A})),n.d(a,"setLeaveStations",(function(){return C})),n.d(a,"setCheckedLeaveStations",(function(){return N})),n.d(a,"setArriveStations",(function(){return w})),n.d(a,"setCheckedArriveStations",(function(){return L})),n.d(a,"setLeaveTimeStart",(function(){return R})),n.d(a,"setLeaveTimeEnd",(function(){return I})),n.d(a,"setArriveTimeStart",(function(){return D})),n.d(a,"setArriveTimeEnd",(function(){return H})),n.d(a,"toggleFiltersActive",(function(){return M})),n.d(a,"setSearchParsed",(function(){return P}));var r=n(0),c=n.n(r),i=n(10),s=n.n(i),o=n(6),u=(n(18),n(9)),l=n(3),d={from:null,to:null,date:Date.now(),isHighSpeed:!1,trainList:[],orderType:1,hasTicket:!1,ticketTypes:[],checkedTicketTypes:{},trainTypes:[],checkedTrainTypes:{},leaveStations:[],checkedLeaveStations:{},arriveStations:[],checkedArriveStations:{},leaveTimeStart:0,leaveTimeEnd:24,arriveTimeStart:0,arriveTimeEnd:24,isFiltersActive:!1,isSearchParsed:!1},T=n(1);function m(e){return{type:"SET_FROM",payload:e}}function E(e){return{type:"SET_TO",payload:e}}var f=n(2);function v(e){return{type:"SET_DATE",payload:e}}function p(){return function(e,t){var n=t().date;e(v(Object(f.b)(n)+864e5))}}function h(){return function(e,t){var n=t().date;e(v(Object(f.b)(n)-864e5))}}function S(e){return{type:"SET_HIGH_SPEED",payload:e}}function y(){return function(e,t){e(S(!t().isHighSpeed))}}function b(e){return{type:"SET_TRAIN_LIST",payload:e}}function k(){return function(e,t){e(1===t().orderType?{type:"SET_ORDER_TYPE",payload:2}:{type:"SET_ORDER_TYPE",payload:1})}}function O(){return function(e,t){e({type:"TOGGLE_HAS_TICKET",payload:!t().hasTicket})}}function j(e){return{type:"SET_TICKET_TYPES",payload:e}}function g(e){return{type:"SET_CHECKED_TICKET_TYPES",payload:e}}function _(e){return{type:"SET_TRAIN_TYPES",payload:e}}function A(e){return{type:"SET_CHECKED_TRAIN_TYPES",payload:e}}function C(e){return{type:"SET_LEAVE_STATIONS",payload:e}}function N(e){return{type:"SET_CHECKED_LEAVE_STATIONS",payload:e}}function w(e){return{type:"SET_ARRIVE_STATIONS",payload:e}}function L(e){return{type:"SET_CHECKED_ARRIVE_STATION",payload:e}}function R(e){return{type:"SET_LEAVE_TIME_START",payload:e}}function I(e){return{type:"SET_LEAVE_TIME_END",payload:e}}function D(e){return{type:"SET_ARRIVE_TIME_START",payload:e}}function H(e){return{type:"SET_ARRIVE_TIME_END",payload:e}}function M(){return function(e,t){e({type:"SET_FILTERS_ACTIVE",payload:!t().isFiltersActive})}}function P(e){return{type:"SET_SEARCH_PARSED",payload:e}}var V=[function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_FROM":return Object(T.a)({},e,{from:a});case"SET_TO":return Object(T.a)({},e,{to:a});default:return e}},function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_DATE":return Object(T.a)({},e,{date:a});default:return e}},function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_HIGH_SPEED":return Object(T.a)({},e,{isHighSpeed:a});case"SET_CHECKED_TRAIN_TYPES":var r=a,c=Boolean(r[1]&&r[5]&&2===Object.keys(r).length);return Object(T.a)({},e,{isHighSpeed:c});default:return e}},function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_TRAIN_LIST":return Object(T.a)({},e,{trainList:a});default:return e}},function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_ORDER_TYPE":return Object(T.a)({},e,{orderType:a});default:return e}},function(e,t){var n=t.type,a=t.payload;switch(n){case"TOGGLE_HAS_TICKET":return Object(T.a)({},e,{hasTicket:a});default:return e}},function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_TICKET_TYPES":return Object(T.a)({},e,{ticketTypes:a});case"SET_CHECKED_TICKET_TYPES":return Object(T.a)({},e,{checkedTicketTypes:a});default:return e}},function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_TRAIN_TYPES":return Object(T.a)({},e,{trainTypes:a});case"SET_HIGH_SPEED":var r=a,c=Object(T.a)({},e.checkedTrainTypes);return r?(c[1]=!0,c[5]=!0):(delete c[1],delete c[5]),Object(T.a)({},e,{checkedTrainTypes:c});case"SET_CHECKED_TRAIN_TYPES":return Object(T.a)({},e,{checkedTrainTypes:a});default:return e}},function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_LEAVE_STATIONS":return Object(T.a)({},e,{leaveStations:a});case"SET_CHECKED_LEAVE_STATIONS":return Object(T.a)({},e,{checkedLeaveStations:a});default:return e}},function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_ARRIVE_STATIONS":return Object(T.a)({},e,{arriveStations:a});case"SET_CHECKED_ARRIVE_STATION":return Object(T.a)({},e,{checkedArriveStations:a});default:return e}},function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_LEAVE_TIME_START":return Object(T.a)({},e,{leaveTimeStart:a});case"SET_LEAVE_TIME_END":return Object(T.a)({},e,{leaveTimeEnd:a});default:return e}},function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_ARRIVE_TIME_START":return Object(T.a)({},e,{arriveTimeStart:a});case"SET_ARRIVE_TIME_END":return Object(T.a)({},e,{arriveTimeEnd:a});default:return e}},function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_FILTERS_ACTIVE":return Object(T.a)({},e,{isFiltersActive:a});default:return e}},function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_SEARCH_PARSED":return Object(T.a)({},e,{isSearchParsed:a});default:return e}}];var F=n(12),Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,K=Object(l.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;return V.reduce((function(e,n){return n(e,t)}),e)}),Y(Object(l.a)(F.a))),x=(n(51),n(8)),B=n.n(x),W=n(5),X=n.n(W),G=(n(53),n(7)),U=n(15),z=n(16),J=(n(54),Object(r.memo)((function(e){var t=e.dTime,n=e.aTime,a=e.dStation,i=e.aStation,s=e.trainNumber,o=e.date,u=e.time,l=e.priceMsg,d=e.dayAfter,T=Object(r.useMemo)((function(){return new B.a("ticket.html").setSearch("aStation",i).setSearch("dStation",a).setSearch("trainNumber",s).setSearch("date",o).toString()}),[i,a,s,o]);return c.a.createElement("li",{className:"list-item"},c.a.createElement("a",{href:T},c.a.createElement("span",{className:"item-time"},c.a.createElement("em",null,t),c.a.createElement("br",null),c.a.createElement("em",{className:"em-light"},n," ",c.a.createElement("i",{className:"time-after"},d))),c.a.createElement("span",{className:"item-stations"},c.a.createElement("em",null,c.a.createElement("i",{className:"train-station train-start"},"\u59cb"),a),c.a.createElement("br",null),c.a.createElement("em",{className:"em-light"},c.a.createElement("i",{className:"train-station train-end"},"\u7ec8"),i)),c.a.createElement("span",{className:"item-train"},c.a.createElement("em",null,s),c.a.createElement("br",null),c.a.createElement("em",{className:"em-light"},u)),c.a.createElement("span",{className:"item-ticket"},c.a.createElement("em",null,l),c.a.createElement("br",null),c.a.createElement("em",{className:"em-light-orange"},"\u53ef\u62a2\u7968"))))}))),q=Object(r.memo)((function(e){var t=e.list;return c.a.createElement("ul",{className:"list"},t.map((function(e){return c.a.createElement(J,Object.assign({},e,{key:e.trainNumber}))})))})),Q=n(4),$=(n(55),n(21)),Z=n.n($);n(56);var ee=Object(r.memo)((function(e){var t=e.title,n=e.currentStartHours,a=e.currentEndHours,i=e.onStartChanged,s=e.onEndChanged,o=function(){var e=Object(r.useState)(document.documentElement.clientWidth),t=Object(Q.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(document.documentElement.clientHeight),i=Object(Q.a)(c,2),s=i[0],o=i[1],u=function(){a(document.documentElement.clientWidth),o(document.documentElement.clientHeight)};return Object(r.useEffect)((function(){return window.addEventListener("resize",u,!1),function(){window.removeEventListener("resize",u,!1)}}),[]),{width:n,height:s}}(),u=Object(r.useRef)(),l=Object(r.useRef)(),d=Object(r.useRef)(),T=Object(r.useRef)(),m=Object(r.useRef)(),E=Object(r.useRef)(),f=Object(r.useRef)(n),v=Object(r.useRef)(a),p=Object(r.useState)((function(){return n/24*100})),h=Object(Q.a)(p,2),S=h[0],y=h[1],b=Object(r.useState)((function(){return a/24*100})),k=Object(Q.a)(b,2),O=k[0],j=k[1];f.current!==n&&(y(n/24*100),f.current=n),v.current!==a&&(j(a/24*100),v.current=a);var g=Object(r.useMemo)((function(){return S>100?100:S<0?0:S}),[S]),_=Object(r.useMemo)((function(){return O>100?100:O<0?0:O}),[O]),A=Object(r.useMemo)((function(){return Math.round(24*g/100)}),[g]),C=Object(r.useMemo)((function(){return Math.round(24*_/100)}),[_]),N=Object(r.useMemo)((function(){return Z()(A,2,"0")+":00"}),[A]),w=Object(r.useMemo)((function(){return Z()(C,2,"0")+":00"}),[C]);function L(e){var t=e.targetTouches[0];d.current=t.pageX}function R(e){var t=e.targetTouches[0];T.current=t.pageX}function I(e){var t=e.targetTouches[0],n=t.pageX-d.current;d.current=t.pageX,y((function(e){return e+n/E.current*100}))}function D(e){var t=e.targetTouches[0],n=t.pageX-T.current;T.current=t.pageX,j((function(e){return e+n/E.current*100}))}return Object(r.useEffect)((function(){E.current=parseFloat(window.getComputedStyle(m.current).width)}),[o.width]),Object(r.useEffect)((function(){var e=u.current,t=l.current;return e.addEventListener("touchstart",L,!1),e.addEventListener("touchmove",I,!1),t.addEventListener("touchstart",R,!1),t.addEventListener("touchmove",D,!1),function(){e.removeEventListener("touchstart",L,!1),e.removeEventListener("touchmove",I,!1),t.removeEventListener("touchstart",R,!1),t.removeEventListener("touchmove",D,!1)}})),Object(r.useEffect)((function(){i(A)}),[i,A]),Object(r.useEffect)((function(){s(C)}),[s,C]),c.a.createElement("div",{className:"option"},c.a.createElement("h3",null,t),c.a.createElement("div",{className:"range-slider"},c.a.createElement("div",{className:"slider",ref:m},c.a.createElement("div",{className:"slider-range",style:{left:g+"%",width:_-g+"%"}}),c.a.createElement("i",{ref:u,className:"slider-handle",style:{left:g+"%"}},c.a.createElement("span",null,N)),c.a.createElement("i",{ref:l,className:"slider-handle",style:{left:_+"%"}},c.a.createElement("span",null,w)))))}));function te(e,t){var n=t.type,a=t.payload;switch(n){case"toggle":var r=Object(T.a)({},e);return a in r?delete r[a]:r[a]=!0,r;case"reset":return{};default:return e}}var ne=Object(r.memo)((function(e){var t=e.name,n=e.checked,a=e.value,r=e.dispatch;return c.a.createElement("li",{className:n?"checked":"",onClick:function(){return r({type:"toggle",payload:a})}},t)})),ae=Object(r.memo)((function(e){var t=e.title,n=e.options,a=e.checkedMap,r=e.dispatch;return c.a.createElement("div",{className:"option"},c.a.createElement("h3",null,t),c.a.createElement("ul",null,n.map((function(e){return c.a.createElement(ne,Object.assign({key:e.value},e,{checked:e.value in a,dispatch:r}))}))))})),re=Object(r.memo)((function(e){var t=e.toggleFiltersActive,n=e.ticketTypes,a=e.trainTypes,i=e.leaveStations,s=e.arriveStations,o=e.checkedTicketTypes,u=e.checkedTrainTypes,l=e.checkedLeaveStations,d=e.checkedArriveStations,m=e.leaveTimeStart,E=e.leaveTimeEnd,f=e.arriveTimeStart,v=e.arriveTimeEnd,p=e.setCheckedTicketTypes,h=e.setCheckedTrainTypes,S=e.setCheckedLeaveStations,y=e.setCheckedArriveStations,b=e.setLeaveTimeStart,k=e.setLeaveTimeEnd,O=e.setArriveTimeStart,j=e.setArriveTimeEnd,g=Object(r.useReducer)(te,o,(function(e){return Object(T.a)({},e)})),_=Object(Q.a)(g,2),A=_[0],C=_[1],N=Object(r.useReducer)(te,u,(function(e){return Object(T.a)({},e)})),w=Object(Q.a)(N,2),L=w[0],R=w[1],I=Object(r.useReducer)(te,l,(function(e){return Object(T.a)({},e)})),D=Object(Q.a)(I,2),H=D[0],M=D[1],P=Object(r.useReducer)(te,d,(function(e){return Object(T.a)({},e)})),V=Object(Q.a)(P,2),F=V[0],Y=V[1],K=Object(r.useState)(m),x=Object(Q.a)(K,2),B=x[0],W=x[1],X=Object(r.useState)(E),G=Object(Q.a)(X,2),U=G[0],z=G[1],J=Object(r.useState)(f),q=Object(Q.a)(J,2),$=q[0],Z=q[1],ne=Object(r.useState)(v),re=Object(Q.a)(ne,2),ce=re[0],ie=re[1],se=Object(r.useMemo)((function(){return 0===Object.keys(A).length&&0===Object.keys(L).length&&0===Object.keys(H).length&&0===Object.keys(F).length&&0===B&&24===U&&0===$&&24===ce}),[A,L,H,F,B,U,$,ce]),oe=Object(r.useCallback)((function(){se||(C({type:"reset"}),R({type:"reset"}),M({type:"reset"}),Y({type:"reset"}),W(0),z(24),Z(0),ie(24))}),[se]),ue=Object(r.useCallback)((function(){p(A),h(L),S(H),y(F),b(B),k(U),O($),j(ce),t()}),[p,h,S,y,b,k,O,j,t,A,L,H,F,B,U,$,ce]),le=[{title:"\u5750\u5e2d\u7c7b\u578b",options:n,checkedMap:A,dispatch:C},{title:"\u8f66\u6b21\u7c7b\u578b",options:a,checkedMap:L,dispatch:R},{title:"\u51fa\u53d1\u8f66\u7ad9",options:i,checkedMap:H,dispatch:M},{title:"\u5230\u8fbe\u8f66\u7ad9",options:s,checkedMap:F,dispatch:Y}];return c.a.createElement("div",{className:"filter-modal"},c.a.createElement("div",{className:"filter-dialog"},c.a.createElement("div",{className:"filter-dialog-content"},c.a.createElement("div",{className:"title"},c.a.createElement("span",{className:["reset",se?"disabled":""].filter(Boolean).join(" "),onClick:function(){return oe()}},"\u91cd\u7f6e"),c.a.createElement("span",{className:"ok",onClick:function(){return ue()}},"\u786e\u5b9a")),c.a.createElement("div",{className:"options"},le.map((function(e){return c.a.createElement(ae,Object.assign({},e,{key:e.title}))})),c.a.createElement(ee,{title:"\u51fa\u53d1\u65f6\u95f4",currentStartHours:B,currentEndHours:U,onStartChanged:W,onEndChanged:z}),c.a.createElement(ee,{title:"\u5230\u8fbe\u65f6\u95f4",currentStartHours:$,currentEndHours:ce,onStartChanged:Z,onEndChanged:ie})))))}));var ce=function(e){var t=e.orderType,n=e.isHighSpeed,a=e.hasTicket,i=e.isFiltersActive,s=e.toggleOrderType,o=e.toggleHighSpeed,u=e.toggleHasTicket,l=e.toggleFiltersActive,d=e.ticketTypes,T=e.trainTypes,m=e.leaveStations,E=e.arriveStations,f=e.checkedTicketTypes,v=e.checkedTrainTypes,p=e.checkedLeaveStations,h=e.checkedArriveStations,S=e.leaveTimeStart,y=e.leaveTimeEnd,b=e.arriveTimeStart,k=e.arriveTimeEnd,O=e.setCheckedTicketTypes,j=e.setCheckedTrainTypes,g=e.setCheckedLeaveStations,_=e.setCheckedArriveStations,A=e.setLeaveTimeStart,C=e.setLeaveTimeEnd,N=e.setArriveTimeStart,w=e.setArriveTimeEnd,L=Object(r.useMemo)((function(){return 0===Object.keys(f).length&&0===Object.keys(v).length&&0===Object.keys(p).length&&0===Object.keys(h).length&&0===S&&24===y&&0===b&&24===k}),[f,v,p,h,S,y,b,k]);return c.a.createElement("div",{className:"bottom"},c.a.createElement("div",{className:"bottom-filters"},c.a.createElement("span",{className:"item",onClick:function(){return s()}},c.a.createElement("i",{className:"icon"},"\uf065"),1===t?"\u51fa\u53d1 \u65e9 \u2192 \u665a":"\u8017\u65f6 \u77ed \u2192 \u957f"),c.a.createElement("span",{className:["item",n?"item-on":""].filter(Boolean).join(" "),onClick:function(){return o()}},c.a.createElement("i",{className:"icon"},n?"\uf43f":"\uf43e"),"\u53ea\u770b\u9ad8\u94c1/\u52a8\u8f66"),c.a.createElement("span",{className:["item",a?"item-on":""].filter(Boolean).join(" "),onClick:function(){return u()}},c.a.createElement("i",{className:"icon"},a?"\uf43d":"\uf43c"),"\u53ea\u770b\u6709\u7968"),c.a.createElement("span",{className:["item",i||!L?"item-on":""].filter(Boolean).join(" "),onClick:function(){return l()}},c.a.createElement("i",{className:"icon"},L?"\uf0f7":"\uf446"),"\u7efc\u5408\u7b5b\u9009")),i&&c.a.createElement(re,{toggleFiltersActive:l,ticketTypes:d,trainTypes:T,leaveStations:m,arriveStations:E,checkedTicketTypes:f,checkedTrainTypes:v,checkedLeaveStations:p,checkedArriveStations:h,leaveTimeStart:S,leaveTimeEnd:y,arriveTimeStart:b,arriveTimeEnd:k,setCheckedTicketTypes:O,setCheckedTrainTypes:j,setCheckedLeaveStations:g,setCheckedArriveStations:_,setLeaveTimeStart:A,setLeaveTimeEnd:C,setArriveTimeStart:N,setArriveTimeEnd:w}))};var ie=Object(o.b)((function(e){return Object(T.a)({},e)}),(function(e){return{dispatch:e}}))((function(e){var t=e.from,n=e.to,i=e.date,s=e.isHighSpeed,o=e.isSearchParsed,u=e.orderType,d=e.hasTicket,T=e.ticketTypes,m=e.trainTypes,E=e.leaveStations,v=e.arriveStations,p=e.checkedTicketTypes,h=e.checkedTrainTypes,S=e.checkedLeaveStations,y=e.checkedArriveStations,b=e.leaveTimeStart,k=e.leaveTimeEnd,O=e.arriveTimeStart,j=e.arriveTimeEnd,g=e.trainList,_=e.isFiltersActive,A=e.dispatch,C=Object(r.useMemo)((function(){return Object(l.b)(a,A)}),[A]);Object(r.useEffect)((function(){var e=B.a.parseQuery(window.location.search),t=e.from,n=e.to,a=e.date,r=e.highSpeed,c=C.setFrom,i=C.setTo,s=C.setDate,o=C.setHighSpeed,u=C.setSearchParsed;c(t),i(n),s(Object(f.b)(X()(a).valueOf())),o("true"===r),u(!0)}),[C]),Object(r.useEffect)((function(){if(o){var e=new B.a("/rest/query").setSearch("from",t).setSearch("to",n).setSearch("date",X()(i).format("YYYY-MM-DD")).setSearch("highSpeed",s).search("orderType",u).search("hasTicket",d).search("isSearchParsed",o).search("checkedTicketTypes",Object.keys(p).join()).search("checkedTrainTypes",Object.keys(h).join()).search("checkedLeaveStations",Object.keys(S).join()).search("checkedArriveStation",Object.keys(y).join()).search("leaveTimeStart",b).search("leaveTimeEnd",k).search("arriveTimeStart",O).search("arriveTimeEnd",j).toString();fetch(e).then((function(e){return e.json()})).then((function(e){var t=e.dataMap.directTrainInfo,n=t.trains,a=t.filter,r=a.ticketType,c=a.trainType,i=a.depStation,s=a.arrStation,o=C.setTrainList,u=C.setTicketTypes,l=C.setTrainTypes,d=C.setLeaveStations,T=C.setArriveStations;o(n),u(r),l(c),d(i),T(s)}))}}),[t,n,i,s,u,d,o,p,h,S,y,b,k,O,j,C]);var N=Object(r.useCallback)((function(){window.history.back()}),[]),w=Object(z.a)(i,C.prevDate,C.nextDate),L=w.isPrevDisabled,R=w.isNextDisabled,I=w.prev,D=w.next,H=Object(r.useMemo)((function(){return{toggleOrderType:C.toggleOrderType,toggleHighSpeed:C.toggleHighSpeed,toggleHasTicket:C.toggleHasTicket,toggleFiltersActive:C.toggleFiltersActive,setCheckedTicketTypes:C.setCheckedTicketTypes,setCheckedTrainTypes:C.setCheckedTrainTypes,setCheckedLeaveStations:C.setCheckedLeaveStations,setCheckedArriveStations:C.setCheckedArriveStations,setLeaveTimeStart:C.setLeaveTimeStart,setLeaveTimeEnd:C.setLeaveTimeEnd,setArriveTimeStart:C.setArriveTimeStart,setArriveTimeEnd:C.setArriveTimeEnd}}),[C]);return o?c.a.createElement("div",null,c.a.createElement("div",{className:"header-wrapper"},c.a.createElement(G.a,{title:"".concat(t," \u2192 ").concat(n),handleBack:N})),c.a.createElement(U.a,{date:i,isPrevDisabled:L,isNextDisabled:R,prev:I,next:D}),c.a.createElement(q,{list:g}),c.a.createElement(ce,Object.assign({orderType:u,isHighSpeed:s,hasTicket:d,isFiltersActive:_,ticketTypes:T,trainTypes:m,leaveStations:E,arriveStations:v,checkedTicketTypes:p,checkedTrainTypes:h,checkedLeaveStations:S,checkedArriveStations:y,leaveTimeStart:b,leaveTimeEnd:k,arriveTimeStart:O,arriveTimeEnd:j},H))):null}));s.a.render(c.a.createElement(o.a,{store:K},c.a.createElement(ie,null)),document.getElementById("root")),u.a()},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(e){if("serviceWorker"in navigator){if(new URL("/train-ticket",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/train-ticket","/service-worker.js");a?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):c(t,e)}))}}function c(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}}},[[50,7,0,1]]]);
//# sourceMappingURL=query.848fdb7c.chunk.js.map