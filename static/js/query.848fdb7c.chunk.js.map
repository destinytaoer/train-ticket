{"version":3,"sources":["common/Nav.js","common/useNav.js","common/fp.js","../node_modules/left-pad/index.js","common/Header.js","query/store/initState.js","query/constants.js","query/store/setCity.js","query/store/actionTypes.js","query/store/setDate.js","query/store/setHighSpeed.js","query/store/setTrainList.js","query/store/toggleOrderType.js","query/store/toggleHasTicket.js","query/store/setTicketTypes.js","query/store/setTrainTypes.js","query/store/setLeaveStations.js","query/store/setArriveStations.js","query/store/setLeaveTime.js","query/store/setArriveTime.js","query/store/setFiltersActive.js","query/store/setSearchParsed.js","query/store/reducers.js","query/store/index.js","query/components/List.js","query/components/Slider.js","common/useWinSize.js","query/components/Filter.js","query/App.js","query/index.js","serviceWorker.js"],"names":["Nav","memo","props","date","prev","next","isPrevDisabled","isNextDisabled","currentString","useMemo","d","dayjs","format","locale","className","onClick","filter","Boolean","join","useNav","prevDate","nextDate","h0","useCallback","timestamp","Date","now","target","setHours","setMinutes","setSeconds","setMilliseconds","getTime","debounce","fn","cb","timer","wait","args","context","this","clearTimeout","apply","setTimeout","module","exports","str","len","ch","length","cache","pad","Header","title","isBackVisible","handleBack","width","height","points","stroke","strokeWidth","fill","initState","from","to","isHighSpeed","trainList","orderType","hasTicket","ticketTypes","checkedTicketTypes","trainTypes","checkedTrainTypes","leaveStations","checkedLeaveStations","arriveStations","checkedArriveStations","leaveTimeStart","leaveTimeEnd","arriveTimeStart","arriveTimeEnd","isFiltersActive","isSearchParsed","setFrom","city","type","payload","setTo","setDate","dispatch","getState","setHighSpeed","toggleHighSpeed","setTrainList","toggleOrderType","toggleHasTicket","setTicketTypes","setCheckedTicketTypes","setTrainTypes","setCheckedTrainTypes","setLeaveStations","setCheckedLeaveStations","setArriveStations","setCheckedArriveStations","setLeaveTimeStart","setLeaveTimeEnd","setArriveTimeStart","setArriveTimeEnd","toggleFiltersActive","setSearchParsed","reducers","state","action","Object","keys","newCheckedTrainTypes","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reduce","s","r","applyMiddleware","thunk","ListItem","dTime","aTime","dStation","aStation","trainNumber","time","priceMsg","dayAfter","url","URI","setSearch","toString","href","List","list","map","item","key","Slider","currentStartHours","currentEndHours","onStartChanged","onEndChanged","winSize","useState","document","documentElement","clientWidth","setWidth","clientHeight","setHeight","onResize","useEffect","addEventListener","removeEventListener","useWinSize","startHandle","useRef","endHandle","lastStartX","lastEndX","range","rangeWidth","prevCurrentStartHours","prevCurrentEndHours","start","setStart","end","setEnd","current","startPercent","endPercent","startHours","Math","round","endHours","startText","leftPad","endText","onStartTouchBegin","e","touch","targetTouches","pageX","onEndTouchBegin","onStartTouchMove","distance","onEndTouchMove","parseFloat","getComputedStyle","startEl","endEl","ref","style","left","checkedReducer","newState","Option","name","checked","value","Options","options","checkedMap","option","FilterModal","useReducer","localCheckedTicketTypes","dispatchLocalCheckedTicketTypes","localCheckedTrainTypes","dispatchLocalCheckedTrainTypes","localCheckedLeaveStations","dispatchLocalCheckedLeaveStations","localCheckedArriveStations","dispatchLocalCheckedArriveStations","localLeaveTimeStart","setLocalLeaveTimeStart","localLeaveTimeEnd","setLocalLeaveTimeEnd","localArriveTimeStart","setLocalArriveTimeStart","localArriveTimeEnd","setLocalArriveTimeEnd","isResetDisabled","handleReset","handleSubmit","optionsGroup","Filter","noChecked","connect","cbs","bindActionCreators","actions","queries","parseQuery","location","search","highSpeed","valueOf","fetch","then","res","json","result","dataMap","directTrainInfo","trains","ticketType","trainType","depStation","arrStation","history","back","filterCbs","ReactDOM","render","store","getElementById","serviceWorker","isLocalhost","hostname","match","register","config","navigator","URL","process","origin","swUrl","headers","response","contentType","get","status","indexOf","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error"],"mappings":"wIAAA,oCAOMA,GAPN,YAOYC,gBAAK,SAAaC,GAAQ,IAElCC,EAKED,EALFC,KACAC,EAIEF,EAJFE,KACAC,EAGEH,EAHFG,KACAC,EAEEJ,EAFFI,eACAC,EACEL,EADFK,eAGIC,EAAgBC,mBAAQ,WAC5B,IAAMC,EAAIC,IAAMR,GAChB,OAAOO,EAAEE,OAAO,sBAAcF,EAAEG,OAAO,SAASD,OAAO,SACtD,CAACT,IAEJ,OACE,yBAAKW,UAAU,OACb,0BACEC,QAAS,kBAAMX,KACfU,UAAW,CAAC,WAAYR,EAAiB,eAAiB,IAAIU,OAAOC,SAASC,KAAK,MAFrF,sBAIA,0BAAMJ,UAAU,eAAeN,GAC/B,0BACEO,QAAS,kBAAMV,KACfS,UAAW,CAAC,WAAYP,EAAiB,eAAiB,IAAIS,OAAOC,SAASC,KAAK,MAFrF,2BAeSlB,O,gCC3Cf,oDAGe,SAASmB,EAAOhB,EAAMiB,EAAUC,GAG7C,IAAMf,EAAiBgB,YAAGnB,IAASmB,cAC7Bf,EAAkBe,YAAGnB,GAAQmB,cAAQ,OAErClB,EAAOmB,uBAAY,WACnBjB,GACJc,MACC,CAACd,EAAgBc,IACdf,EAAOkB,uBAAY,WACnBhB,GACJc,MACC,CAACd,EAAgBc,IAEpB,MAAO,CACLf,iBACAC,iBACAH,OACAC,U,+BCtBG,SAASiB,IAA4B,IAAzBE,EAAwB,uDAAZC,KAAKC,MAC5BC,EAAS,IAAIF,KAAKD,GAOxB,OALAG,EAAOC,SAAS,GAChBD,EAAOE,WAAW,GAClBF,EAAOG,WAAW,GAClBH,EAAOI,gBAAgB,GAEhBJ,EAAOK,UAGT,SAASC,EAASC,EAAIC,GAAiB,IACxCC,EAD2BC,EAAY,uDAAL,IAEtC,OAAO,WAAmB,IAAD,uBAANC,EAAM,yBAANA,EAAM,gBACvB,IAAIC,EAAUC,KAEVJ,IACFK,aAAaL,GACbD,EAAGO,MAAMH,EAASD,IAGpBF,EAAQO,YAAW,WACjBT,EAAGQ,MAAMH,EAASD,KACjBD,IAvBP,qE,qDCMAO,EAAOC,QAeP,SAAkBC,EAAKC,EAAKC,GAM1B,IAFAD,IAFAD,GAAY,IAEIG,SAEL,EAAG,OAAOH,EAEhBE,GAAa,IAAPA,IAAUA,EAAK,KAI1B,GAAW,OAFXA,GAAU,KAEQD,EAAM,GAAI,OAAOG,EAAMH,GAAOD,EAEhD,IAAIK,EAAM,GAEV,KAEY,EAANJ,IAASI,GAAOH,GAEpBD,IAAQ,GAICC,GAAMA,EAKjB,OAAOG,EAAML,GA1Cf,IAAII,EAAQ,CACV,GACA,IACA,KACA,MACA,OACA,QACA,SACA,UACA,WACA,c,4KClBF,0BAoCeE,IAhCf,SAAgBlD,GAAQ,IACdmD,EAA0CnD,EAA1CmD,MADa,EAC6BnD,EAAnCoD,qBADM,SACcC,EAAerD,EAAfqD,WACnC,OACE,yBAAKzC,UAAU,UAEXwC,EACE,yBAAKxC,UAAU,cAAcC,QAASwC,GACpC,yBAAKC,MAAM,KAAKC,OAAO,MACrB,8BACEC,OAAO,oBACPC,OAAO,OACPC,YAAY,IACZC,KAAK,WAIT,KAGN,wBAAI/C,UAAU,gBACXuC,M,ivCCCMS,EAxBG,CAChBC,KAAM,KACNC,GAAI,KACJ7D,KAAMsB,KAAKC,MACXuC,aAAa,EACbC,UAAW,GACXC,UCN0B,EDO1BC,WAAW,EACXC,YAAa,GACbC,mBAAoB,GACpBC,WAAY,GACZC,kBAAmB,GACnBC,cAAe,GACfC,qBAAsB,GACtBC,eAAgB,GAChBC,sBAAuB,GACvBC,eAAgB,EAChBC,aAAc,GACdC,gBAAiB,EACjBC,cAAe,GACfC,iBAAiB,EACjBC,gBAAgB,G,OEpBX,SAASC,EAAQC,GACtB,MAAO,CACLC,KCJoB,WDKpBC,QAASF,GAIN,SAASG,EAAMH,GACpB,MAAO,CACLC,KCVkB,SDWlBC,QAASF,G,WETN,SAASI,EAAQrF,GACtB,MAAO,CACLkF,KDHoB,WCIpBC,QAASnF,GAIN,SAASkB,IACd,OAAO,SAACoE,EAAUC,GAAc,IACtBvF,EAASuF,IAATvF,KACRsF,EAASD,EAAQlE,YAAGnB,GAAQ,SAIzB,SAASiB,IACd,OAAO,SAACqE,EAAUC,GAAc,IACtBvF,EAASuF,IAATvF,KACRsF,EAASD,EAAQlE,YAAGnB,GAAQ,SClBzB,SAASwF,EAAa1B,GAC3B,MAAO,CACLoB,KFD0B,iBEE1BC,QAASrB,GAIN,SAAS2B,IACd,OAAO,SAACH,EAAUC,GAEhBD,EAASE,GADeD,IAAhBzB,eCTL,SAAS4B,EAAa3B,GAC3B,MAAO,CACLmB,KHA0B,iBGC1BC,QAASpB,GCFN,SAAS4B,IACd,OAAO,SAACL,EAAUC,GAGdD,ENNsB,IMIFC,IAAdvB,UAEG,CACPkB,KJHsB,iBIItBC,QNPsB,GMUf,CACPD,KJRsB,iBIStBC,QNboB,KOCrB,SAASS,IACd,OAAO,SAACN,EAAUC,GAEhBD,EAAS,CACPJ,KLA2B,oBKC3BC,SAHoBI,IAAdtB,aCFL,SAAS4B,EAAe3B,GAC7B,MAAO,CACLgB,KNG4B,mBMF5BC,QAASjB,GAGN,SAAS4B,EAAsB3B,GACpC,MAAO,CACLe,KNFoC,2BMGpCC,QAAShB,GCTN,SAAS4B,EAAc3B,GAC5B,MAAO,CACLc,KPK2B,kBOJ3BC,QAASf,GAGN,SAAS4B,EAAqB3B,GACnC,MAAO,CACLa,KPAmC,0BOCnCC,QAASd,GCTN,SAAS4B,EAAiB3B,GAC/B,MAAO,CACLY,KRO8B,qBQN9BC,QAASb,GAGN,SAAS4B,EAAwB3B,GACtC,MAAO,CACLW,KREsC,6BQDtCC,QAASZ,GCTN,SAAS4B,EAAkB3B,GAChC,MAAO,CACLU,KTS+B,sBSR/BC,QAASX,GAGN,SAAS4B,EAAyB3B,GACvC,MAAO,CACLS,KTIsC,6BSHtCC,QAASV,GCTN,SAAS4B,EAAkB3B,GAChC,MAAO,CACLQ,KVWgC,uBUVhCC,QAAST,GAGN,SAAS4B,EAAgB3B,GAC9B,MAAO,CACLO,KVM8B,qBUL9BC,QAASR,GCTN,SAAS4B,EAAmB3B,GACjC,MAAO,CACLM,KXaiC,wBWZjCC,QAASP,GAGN,SAAS4B,EAAiB3B,GAC/B,MAAO,CACLK,KXQ+B,sBWP/BC,QAASN,GCTN,SAAS4B,IACd,OAAO,SAACnB,EAAUC,GAGhBD,EAAS,CACPJ,KZY4B,qBYX5BC,SAJ0BI,IAApBT,mBCFL,SAAS4B,EAAgB3B,GAC9B,MAAO,CACLG,KbgB6B,oBaf7BC,QAASJ,GCWb,IAAM4B,EAAW,CfAV,SAAiBC,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,ICnBoB,WDoBlB,OAAO,eAAK0B,EAAZ,CAAmBhD,KAAMuB,IAC3B,ICpBkB,SDqBhB,OAAO,eAAIyB,EAAX,CAAkB/C,GAAIsB,IACxB,QACE,OAAOyB,IEAN,SAAiBA,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,IDzBoB,WC0BlB,OAAO,eAAK0B,EAAZ,CAAmB5G,KAAMmF,IAC3B,QACE,OAAOyB,ICdN,SAAiBA,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,IFhB0B,iBEiBxB,OAAO,eAAK0B,EAAZ,CAAmB9C,YAAaqB,IAClC,IFXmC,0BEYjC,IAAMd,EAAoBc,EAEpBrB,EAAchD,QAAQuD,EAAkB,IAAMA,EAAkB,IAAgD,IAA1CyC,OAAOC,KAAK1C,GAAmBvB,QAC3G,OAAO,eAAK8D,EAAZ,CAAmB9C,gBACrB,QACE,OAAO8C,IClBN,SAAiBA,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,IHR0B,iBGSxB,OAAO,eAAK0B,EAAZ,CAAmB7C,UAAWoB,IAChC,QACE,OAAOyB,ICKN,SAAiBA,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,IJlB0B,iBImBxB,OAAO,eAAK0B,EAAZ,CAAmB5C,UAAWmB,IAChC,QACE,OAAOyB,ICdN,SAAiBA,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,ILT6B,oBKU3B,OAAO,eAAK0B,EAAZ,CAAmB3C,UAAWkB,IAChC,QACE,OAAOyB,ICHN,SAAiBA,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,INX4B,mBMY1B,OAAO,eAAK0B,EAAZ,CAAmB1C,YAAaiB,IAClC,INZoC,2BMalC,OAAO,eAAKyB,EAAZ,CAAmBzC,mBAAoBgB,IACzC,QACE,OAAOyB,ICRN,SAAiBA,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,IPT2B,kBOUzB,OAAO,eAAK0B,EAAZ,CAAmBxC,WAAYe,IACjC,IPjB0B,iBOkBxB,IAAMrB,EAAcqB,EACd6B,EAAoB,eAAQJ,EAAMvC,mBAQxC,OAPIP,GACFkD,EAAqB,IAAK,EAC1BA,EAAqB,IAAK,WAEnBA,EAAqB,UACrBA,EAAqB,IAEvB,eAAKJ,EAAZ,CAAmBvC,kBAAmB2C,IACxC,IPrBmC,0BOsBjC,OAAO,eAAKJ,EAAZ,CAAmBvC,kBAAmBc,IACxC,QACE,OAAOyB,ICnBN,SAAiBA,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,IRP8B,qBQQ5B,OAAO,eAAK0B,EAAZ,CAAmBtC,cAAea,IACpC,IRRsC,6BQSpC,OAAO,eAAKyB,EAAZ,CAAmBrC,qBAAsBY,IAC3C,QACE,OAAOyB,ICRN,SAAiBA,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,ITL+B,sBSM7B,OAAO,eAAK0B,EAAZ,CAAmBpC,eAAgBW,IACrC,ITNsC,6BSOpC,OAAO,eAAKyB,EAAZ,CAAmBnC,sBAAuBU,IAC5C,QACE,OAAOyB,ICRN,SAAiBA,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,IVHgC,uBUI9B,OAAO,eAAK0B,EAAZ,CAAmBlC,eAAgBS,IACrC,IVJ8B,qBUK5B,OAAO,eAAKyB,EAAZ,CAAmBjC,aAAcQ,IACnC,QACE,OAAOyB,ICRN,SAAiBA,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,IXDiC,wBWE/B,OAAO,eAAK0B,EAAZ,CAAmBhC,gBAAiBO,IACtC,IXF+B,sBWG7B,OAAO,eAAKyB,EAAZ,CAAmB/B,cAAeM,IACpC,QACE,OAAOyB,ICVN,SAAiBA,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,IZG8B,qBYF5B,OAAO,eAAK0B,EAAZ,CAAmB9B,gBAAiBK,IACtC,QACE,OAAOyB,ICVN,SAAiBA,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,IbQ6B,oBaP3B,OAAO,eAAK0B,EAAZ,CAAmB7B,eAAgBI,IACrC,QACE,OAAOyB,K,YEVPK,EAAmBC,OAAOC,sCAAwCC,IACzDC,eD2BA,WAA6C,IAA5BT,EAA2B,uDAAnBjD,EAAWkD,EAAQ,uCACzD,OAAOF,EAASW,QAAO,SAACC,EAAGC,GAAJ,OAAUA,EAAED,EAAGV,KAASD,KC1B/CK,EAAiBQ,YAAgBC,O,uECF7BC,G,MAAW7H,gBAAK,SAAkBC,GAAQ,IAE5C6H,EASE7H,EATF6H,MACAC,EAQE9H,EARF8H,MACAC,EAOE/H,EAPF+H,SACAC,EAMEhI,EANFgI,SACAC,EAKEjI,EALFiI,YACAhI,EAIED,EAJFC,KACAiI,EAGElI,EAHFkI,KACAC,EAEEnI,EAFFmI,SACAC,EACEpI,EADFoI,SAGIC,EAAM9H,mBAAQ,WAClB,OAAO,IAAI+H,IAAI,eACZC,UAAU,WAAYP,GACtBO,UAAU,WAAYR,GACtBQ,UAAU,cAAeN,GACzBM,UAAU,OAAQtI,GAClBuI,aACF,CACDR,EACAD,EACAE,EACAhI,IAGF,OACE,wBAAIW,UAAU,aACZ,uBAAG6H,KAAMJ,GACP,0BAAMzH,UAAU,aACd,4BAAKiH,GACL,6BACA,wBAAIjH,UAAU,YAAYkH,EAA1B,IAAiC,uBAAGlH,UAAU,cAAcwH,KAE9D,0BAAMxH,UAAU,iBACd,4BACE,uBAAGA,UAAU,6BAAb,UACCmH,GAEH,6BACA,wBAAInH,UAAU,YACZ,uBAAGA,UAAU,2BAAb,UACEoH,IAGN,0BAAMpH,UAAU,cACd,4BAAKqH,GACL,6BACA,wBAAIrH,UAAU,YAAYsH,IAE5B,0BAAMtH,UAAU,eACd,4BAAKuH,GACL,6BACA,wBAAIvH,UAAU,mBAAd,6BAiCK8H,EAfF3I,gBAAK,SAAcC,GAAQ,IAC9B2I,EAAS3I,EAAT2I,KAER,OACE,wBAAI/H,UAAU,QAEV+H,EAAKC,KAAI,SAAAC,GAAI,OAAI,kBAAC,EAAD,iBAAcA,EAAd,CAAoBC,IAAKD,EAAKZ,sB,0CCuFxCc,GArKAhJ,gBAAK,SAAgBC,GAAQ,IAClCmD,EAA4EnD,EAA5EmD,MAAO6F,EAAqEhJ,EAArEgJ,kBAAmBC,EAAkDjJ,EAAlDiJ,gBAAiBC,EAAiClJ,EAAjCkJ,eAAgBC,EAAiBnJ,EAAjBmJ,aAE7DC,ECPO,WAAuB,IAAD,EACTC,mBAASC,SAASC,gBAAgBC,aADzB,mBAC5BlG,EAD4B,KACrBmG,EADqB,OAEPJ,mBAASC,SAASC,gBAAgBG,cAF3B,mBAE5BnG,EAF4B,KAEpBoG,EAFoB,KAI7BC,EAAW,WACfH,EAASH,SAASC,gBAAgBC,aAClCG,EAAUL,SAASC,gBAAgBG,eAWrC,OARAG,qBAAU,WAGR,OAFA1C,OAAO2C,iBAAiB,SAAUF,GAAU,GAErC,WACLzC,OAAO4C,oBAAoB,SAAUH,GAAU,MAEhD,IAEI,CAAEtG,QAAOC,UDVAyG,GAEVC,EAAcC,mBACdC,EAAYD,mBAEZE,EAAaF,mBACbG,EAAWH,mBAEXI,EAAQJ,mBACRK,EAAaL,mBAEbM,EAAwBN,iBAAOlB,GAC/ByB,EAAsBP,iBAAOjB,GAfM,EAiBfI,oBAAS,kBAAOL,EAAoB,GAAM,OAjB3B,mBAiBlC0B,EAjBkC,KAiB3BC,EAjB2B,OAkBnBtB,oBAAS,kBAAOJ,EAAkB,GAAM,OAlBrB,mBAkBlC2B,EAlBkC,KAkB7BC,EAlB6B,KAoBrCL,EAAsBM,UAAY9B,IACpC2B,EAAU3B,EAAoB,GAAM,KACpCwB,EAAsBM,QAAU9B,GAG9ByB,EAAoBK,UAAY7B,IAClC4B,EAAQ5B,EAAkB,GAAM,KAChCwB,EAAoBK,QAAU7B,GAGhC,IAAM8B,EAAexK,mBAAQ,WAC3B,OAAImK,EAAQ,IACH,IAGLA,EAAQ,EACH,EAGFA,IACN,CAACA,IAEEM,EAAazK,mBAAQ,WACzB,OAAIqK,EAAM,IACD,IAGLA,EAAM,EACD,EAGFA,IACN,CAACA,IAEEK,EAAa1K,mBAAQ,WACzB,OAAO2K,KAAKC,MAAsB,GAAfJ,EAAqB,OACvC,CAACA,IAEEK,EAAW7K,mBAAQ,WACvB,OAAO2K,KAAKC,MAAoB,GAAbH,EAAmB,OACrC,CAACA,IAEEK,EAAY9K,mBAAQ,WACxB,OAAO+K,IAAQL,EAAY,EAAG,KAAO,QACpC,CAACA,IAEEM,EAAUhL,mBAAQ,WACtB,OAAO+K,IAAQF,EAAU,EAAG,KAAO,QAClC,CAACA,IAEJ,SAASI,EAAkBC,GACzB,IAAMC,EAAQD,EAAEE,cAAc,GAC9BvB,EAAWU,QAAUY,EAAME,MAG7B,SAASC,EAAgBJ,GACvB,IAAMC,EAAQD,EAAEE,cAAc,GAC9BtB,EAASS,QAAUY,EAAME,MAG3B,SAASE,EAAiBL,GACxB,IAAMC,EAAQD,EAAEE,cAAc,GACxBI,EAAWL,EAAME,MAAQxB,EAAWU,QAC1CV,EAAWU,QAAUY,EAAME,MAE3BjB,GAAS,SAAAD,GAAK,OAAIA,EAASqB,EAAWxB,EAAWO,QAAW,OAG9D,SAASkB,EAAeP,GACtB,IAAMC,EAAQD,EAAEE,cAAc,GACxBI,EAAWL,EAAME,MAAQvB,EAASS,QACxCT,EAASS,QAAUY,EAAME,MAEzBf,GAAO,SAAAD,GAAG,OAAIA,EAAOmB,EAAWxB,EAAWO,QAAW,OA+BxD,OA5BAjB,qBAAU,WACRU,EAAWO,QAAUmB,WAAW9E,OAAO+E,iBAAiB5B,EAAMQ,SAASxH,SACtE,CAAC8F,EAAQ9F,QAEZuG,qBAAU,WACR,IAAMsC,EAAUlC,EAAYa,QACtBsB,EAAQjC,EAAUW,QAMxB,OALAqB,EAAQrC,iBAAiB,aAAc0B,GAAmB,GAC1DW,EAAQrC,iBAAiB,YAAagC,GAAkB,GACxDM,EAAMtC,iBAAiB,aAAc+B,GAAiB,GACtDO,EAAMtC,iBAAiB,YAAakC,GAAgB,GAE7C,WACLG,EAAQpC,oBAAoB,aAAcyB,GAAmB,GAC7DW,EAAQpC,oBAAoB,YAAa+B,GAAkB,GAC3DM,EAAMrC,oBAAoB,aAAc8B,GAAiB,GACzDO,EAAMrC,oBAAoB,YAAaiC,GAAgB,OAI3DnC,qBAAU,WACRX,EAAe+B,KACd,CAAC/B,EAAgB+B,IAEpBpB,qBAAU,WACRV,EAAaiC,KACZ,CAACjC,EAAciC,IAGhB,yBAAKxK,UAAU,UACb,4BAAKuC,GACL,yBAAKvC,UAAU,gBACb,yBAAKA,UAAU,SAASyL,IAAK/B,GAC3B,yBACE1J,UAAU,eACV0L,MAAO,CACLC,KAAMxB,EAAe,IACrBzH,MAAO0H,EAAaD,EAAe,OAEvC,uBACEsB,IAAKpC,EACLrJ,UAAU,gBACV0L,MAAO,CACLC,KAAMxB,EAAe,MAEvB,8BAAOM,IAET,uBACEgB,IAAKlC,EACLvJ,UAAU,gBACV0L,MAAO,CACLC,KAAMvB,EAAa,MAErB,8BAAOO,UEpJnB,SAASiB,GAAe3F,EAAOC,GAAS,IAC9B3B,EAAkB2B,EAAlB3B,KAAMC,EAAY0B,EAAZ1B,QACd,OAAQD,GACN,IAAK,SACH,IAAMsH,EAAQ,eAAQ5F,GAMtB,OALIzB,KAAWqH,SACNA,EAASrH,GAEhBqH,EAASrH,IAAW,EAEfqH,EACT,IAAK,QACH,MAAO,GACT,QACE,OAAO5F,GAIb,IAAM6F,GAAS3M,gBAAK,SAAgBC,GAAQ,IAClC2M,EAAmC3M,EAAnC2M,KAAMC,EAA6B5M,EAA7B4M,QAASC,EAAoB7M,EAApB6M,MAAOtH,EAAavF,EAAbuF,SAE9B,OACE,wBAAI3E,UAAWgM,EAAU,UAAY,GAAI/L,QAAS,kBAAM0E,EAAS,CAACJ,KAAM,SAAUC,QAASyH,MACxFF,MAWDG,GAAU/M,gBAAK,SAAiBC,GAAQ,IACpCmD,EAAyCnD,EAAzCmD,MAAO4J,EAAkC/M,EAAlC+M,QAASC,EAAyBhN,EAAzBgN,WAAYzH,EAAavF,EAAbuF,SAEpC,OACE,yBAAK3E,UAAU,UACb,4BAAKuC,GACL,4BACG4J,EAAQnE,KAAI,SAAAqE,GAAM,OACjB,kBAAC,GAAD,eACEnE,IAAKmE,EAAOJ,OACRI,EAFN,CAGEL,QAASK,EAAOJ,SAASG,EACzBzH,SAAUA,aAchB2H,GAAcnN,gBAAK,SAAqBC,GAAQ,IAElD0G,EAqBE1G,EArBF0G,oBACAvC,EAoBEnE,EApBFmE,YACAE,EAmBErE,EAnBFqE,WACAE,EAkBEvE,EAlBFuE,cACAE,EAiBEzE,EAjBFyE,eACAL,EAgBEpE,EAhBFoE,mBACAE,EAeEtE,EAfFsE,kBACAE,EAcExE,EAdFwE,qBACAE,EAaE1E,EAbF0E,sBACAC,EAYE3E,EAZF2E,eACAC,EAWE5E,EAXF4E,aACAC,EAUE7E,EAVF6E,gBACAC,EASE9E,EATF8E,cACAiB,EAQE/F,EARF+F,sBACAE,EAOEjG,EAPFiG,qBACAE,EAMEnG,EANFmG,wBACAE,EAKErG,EALFqG,yBACAC,EAIEtG,EAJFsG,kBACAC,EAGEvG,EAHFuG,gBACAC,EAEExG,EAFFwG,mBACAC,EACEzG,EADFyG,iBAtBiD,EAyBgB0G,qBACjEX,GACApI,GACA,SAAAA,GAAkB,sBAAUA,MA5BqB,mBAyB5CgJ,EAzB4C,KAyBnBC,EAzBmB,OA8BcF,qBAC/DX,GACAlI,GACA,SAAAA,GAAiB,sBAAUA,MAjCsB,mBA8B5CgJ,EA9B4C,KA8BpBC,EA9BoB,OAmCoBJ,qBACrEX,GACAhI,GACA,SAAAA,GAAoB,sBAAUA,MAtCmB,mBAmC5CgJ,EAnC4C,KAmCjBC,EAnCiB,OA2C/CN,qBACFX,GACA9H,GACA,SAAAA,GAAqB,sBAClBA,MA/C8C,mBAyCjDgJ,EAzCiD,KA0CjDC,EA1CiD,OAkDGtE,mBAAS1E,GAlDZ,mBAkD5CiJ,EAlD4C,KAkDvBC,EAlDuB,OAmDDxE,mBAASzE,GAnDR,mBAmD5CkJ,EAnD4C,KAmDzBC,EAnDyB,OAoDK1E,mBAASxE,GApDd,mBAoD5CmJ,EApD4C,KAoDtBC,EApDsB,QAqDC5E,mBAASvE,GArDV,qBAqD5CoJ,GArD4C,MAqDxBC,GArDwB,MAuD7CC,GAAkB7N,mBACtB,kBACmD,IAAhDwG,OAAOC,KAAKoG,GAAyBrK,QACS,IAA/CgE,OAAOC,KAAKsG,GAAwBvK,QACc,IAAlDgE,OAAOC,KAAKwG,GAA2BzK,QACY,IAAnDgE,OAAOC,KAAK0G,GAA4B3K,QAChB,IAAxB6K,GACsB,KAAtBE,GACyB,IAAzBE,GACuB,KAAvBE,KACF,CACEd,EACAE,EACAE,EACAE,EACAE,EACAE,EACAE,EACAE,KAIEG,GAAchN,uBAAY,WAC1B+M,KAEJf,EAAgC,CAAClI,KAAM,UACvCoI,EAA+B,CAAEpI,KAAM,UACvCsI,EAAkC,CAAEtI,KAAM,UAC1CwI,EAAmC,CAAExI,KAAM,UAC3C0I,EAAuB,GACvBE,EAAqB,IACrBE,EAAwB,GACxBE,GAAsB,OACrB,CAACC,KAEEE,GAAejN,uBAAY,WAC/B0E,EAAsBqH,GACtBnH,EAAqBqH,GACrBnH,EAAwBqH,GACxBnH,EAAyBqH,GACzBpH,EAAkBsH,GAClBrH,EAAgBuH,GAChBtH,EAAmBwH,GACnBvH,EAAiByH,IAEjBxH,MACC,CACDX,EACAE,EACAE,EACAE,EACAC,EACAC,EACAC,EACAC,EACAC,EACA0G,EACAE,EACAE,EACAE,EACAE,EACAE,EACAE,EACAE,KAGIK,GAAe,CACnB,CACEpL,MAAO,2BACP4J,QAAS5I,EACT6I,WAAYI,EACZ7H,SAAU8H,GAEZ,CACElK,MAAO,2BACP4J,QAAS1I,EACT2I,WAAYM,EACZ/H,SAAUgI,GAEZ,CACEpK,MAAO,2BACP4J,QAASxI,EACTyI,WAAYQ,EACZjI,SAAUkI,GAEZ,CACEtK,MAAO,2BACP4J,QAAStI,EACTuI,WAAYU,EACZnI,SAAUoI,IAId,OACE,yBAAK/M,UAAU,gBACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,yBACb,yBAAKA,UAAU,SACb,0BACEA,UAAW,CAAC,QAASwN,GAAkB,WAAa,IAAItN,OAAOC,SAASC,KAAK,KAC7EH,QAAS,kBAAMwN,OAFjB,gBAKA,0BAAMzN,UAAU,KAAKC,QAAS,kBAAMyN,OAApC,iBAIF,yBAAK1N,UAAU,WACZ2N,GAAa3F,KAAI,SAAAmE,GAAO,OACvB,kBAAC,GAAD,iBAAaA,EAAb,CAAsBjE,IAAKiE,EAAQ5J,YAErC,kBAAC,GAAD,CACEA,MAAM,2BACN6F,kBAAmB4E,EACnB3E,gBAAiB6E,EACjB5E,eAAgB2E,EAChB1E,aAAc4E,IAEhB,kBAAC,GAAD,CACE5K,MAAM,2BACN6F,kBAAmBgF,EACnB/E,gBAAiBiF,GACjBhF,eAAgB+E,EAChB9E,aAAcgF,YA2KbK,OA5If,SAAgBxO,GAAQ,IAEpBiE,EA6BEjE,EA7BFiE,UACAF,EA4BE/D,EA5BF+D,YACAG,EA2BElE,EA3BFkE,UACAa,EA0BE/E,EA1BF+E,gBACAa,EAyBE5F,EAzBF4F,gBACAF,EAwBE1F,EAxBF0F,gBACAG,EAuBE7F,EAvBF6F,gBACAa,EAsBE1G,EAtBF0G,oBAEAvC,EAoBEnE,EApBFmE,YACAE,EAmBErE,EAnBFqE,WACAE,EAkBEvE,EAlBFuE,cACAE,EAiBEzE,EAjBFyE,eACAL,EAgBEpE,EAhBFoE,mBACAE,EAeEtE,EAfFsE,kBACAE,EAcExE,EAdFwE,qBACAE,EAaE1E,EAbF0E,sBACAC,EAYE3E,EAZF2E,eACAC,EAWE5E,EAXF4E,aACAC,EAUE7E,EAVF6E,gBACAC,EASE9E,EATF8E,cACAiB,EAQE/F,EARF+F,sBACAE,EAOEjG,EAPFiG,qBACAE,EAMEnG,EANFmG,wBACAE,EAKErG,EALFqG,yBACAC,EAIEtG,EAJFsG,kBACAC,EAGEvG,EAHFuG,gBACAC,EAEExG,EAFFwG,mBACAC,EACEzG,EADFyG,iBAGIgI,EAAYlO,mBAChB,kBAC6C,IAA3CwG,OAAOC,KAAK5C,GAAoBrB,QACU,IAA1CgE,OAAOC,KAAK1C,GAAmBvB,QACc,IAA7CgE,OAAOC,KAAKxC,GAAsBzB,QACY,IAA9CgE,OAAOC,KAAKtC,GAAuB3B,QAChB,IAAnB4B,GACiB,KAAjBC,GACoB,IAApBC,GACkB,KAAlBC,IACF,CACEV,EACAE,EACAE,EACAE,EACAC,EACAC,EACAC,EACAC,IAIJ,OACE,yBAAKlE,UAAU,UACb,yBAAKA,UAAU,kBACb,0BAAMA,UAAU,OAAOC,QAAS,kBAAM+E,MACpC,uBAAGhF,UAAU,QAAb,UrB9UkB,IqB+UjBqD,EAA6B,oCAAa,qCAE7C,0BACErD,UAAW,CAAC,OAAQmD,EAAc,UAAY,IAAIjD,OAAOC,SAASC,KAAK,KACvEH,QAAS,kBAAM6E,MACf,uBAAG9E,UAAU,QAAQmD,EAAc,SAAW,UAHhD,yCAMA,0BACEnD,UAAW,CAAC,OAAQsD,EAAY,UAAY,IAAIpD,OAAOC,SAASC,KAAK,KACrEH,QAAS,kBAAMgF,MACf,uBAAGjF,UAAU,QAAQsD,EAAY,SAAW,UAH9C,4BAMA,0BACEtD,UAAW,CAAC,OAASmE,IAAoB0J,EAAY,UAAY,IAAI3N,OAAOC,SAASC,KAAK,KAC1FH,QAAS,kBAAM6F,MACf,uBAAG9F,UAAU,QAAQ6N,EAAY,SAAW,UAH9C,6BAOD1J,GACC,kBAAC,GAAD,CACE2B,oBAAqBA,EACrBvC,YAAaA,EACbE,WAAYA,EACZE,cAAeA,EACfE,eAAgBA,EAChBL,mBAAoBA,EACpBE,kBAAmBA,EACnBE,qBAAsBA,EACtBE,sBAAuBA,EACvBC,eAAgBA,EAChBC,aAAcA,EACdC,gBAAiBA,EACjBC,cAAeA,EACfiB,sBAAuBA,EACvBE,qBAAsBA,EACtBE,wBAAyBA,EACzBE,yBAA0BA,EAC1BC,kBAAmBA,EACnBC,gBAAiBA,EACjBC,mBAAoBA,EACpBC,iBAAkBA,MC9KbiI,oBACb,SAAA7H,GAAW,OAAO,eAAIA,MACtB,SAAAtB,GAAc,MAAO,CAACA,cAFTmJ,EA9Lf,SAAa1O,GAAQ,IAEjB6D,EAsBE7D,EAtBF6D,KACAC,EAqBE9D,EArBF8D,GACA7D,EAoBED,EApBFC,KACA8D,EAmBE/D,EAnBF+D,YACAiB,EAkBEhF,EAlBFgF,eACAf,EAiBEjE,EAjBFiE,UACAC,EAgBElE,EAhBFkE,UACAC,EAeEnE,EAfFmE,YACAE,EAcErE,EAdFqE,WACAE,EAaEvE,EAbFuE,cACAE,EAYEzE,EAZFyE,eACAL,EAWEpE,EAXFoE,mBACAE,EAUEtE,EAVFsE,kBACAE,EASExE,EATFwE,qBACAE,EAQE1E,EARF0E,sBACAC,EAOE3E,EAPF2E,eACAC,EAME5E,EANF4E,aACAC,EAKE7E,EALF6E,gBACAC,EAIE9E,EAJF8E,cACAd,EAGEhE,EAHFgE,UACAe,EAEE/E,EAFF+E,gBACAQ,EACEvF,EADFuF,SAGIoJ,EAAMpO,mBAAQ,WAClB,OAAOqO,YAAmBC,EAAStJ,KAClC,CAACA,IAEJsE,qBAAU,WACR,IAAMiF,EAAUxG,IAAIyG,WAAW5H,OAAO6H,SAASC,QAEvCpL,EAA8BiL,EAA9BjL,KAAMC,EAAwBgL,EAAxBhL,GAAI7D,EAAoB6O,EAApB7O,KAAMiP,EAAcJ,EAAdI,UAChBjK,EAA2D0J,EAA3D1J,QAASI,EAAkDsJ,EAAlDtJ,MAAOC,EAA2CqJ,EAA3CrJ,QAASG,EAAkCkJ,EAAlClJ,aAAckB,EAAoBgI,EAApBhI,gBAG/C1B,EAAQpB,GACRwB,EAAMvB,GACNwB,EAAQlE,YAAGX,IAAMR,GAAMkP,YACvB1J,EAA2B,SAAdyJ,GAEbvI,GAAgB,KACf,CAACgI,IAEJ9E,qBAAU,WACR,GAAK7E,EAAL,CAGA,IAAMqD,EAAM,IAAIC,IAAI,eACjBC,UAAU,OAAQ1E,GAClB0E,UAAU,KAAMzE,GAChByE,UAAU,OAAQ9H,IAAMR,GAAMS,OAAO,eACrC6H,UAAU,YAAaxE,GACvBkL,OAAO,YAAahL,GACpBgL,OAAO,YAAa/K,GACpB+K,OAAO,iBAAkBjK,GACzBiK,OAAO,qBAAsBlI,OAAOC,KAAK5C,GAAoBpD,QAC7DiO,OAAO,oBAAqBlI,OAAOC,KAAK1C,GAAmBtD,QAC3DiO,OAAO,uBAAwBlI,OAAOC,KAAKxC,GAAsBxD,QACjEiO,OAAO,uBAAwBlI,OAAOC,KAAKtC,GAAuB1D,QAClEiO,OAAO,iBAAkBtK,GACzBsK,OAAO,eAAgBrK,GACvBqK,OAAO,kBAAmBpK,GAC1BoK,OAAO,gBAAiBnK,GACxB0D,WAEH4G,MAAM/G,GACHgH,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAW,IAAD,EAaVA,EAXFC,QACEC,gBACEC,EAJQ,EAIRA,OAJQ,IAKR7O,OACE8O,EANM,EAMNA,WACAC,EAPM,EAONA,UACAC,EARM,EAQNA,WACAC,EATM,EASNA,WAMApK,EAAqFgJ,EAArFhJ,aAAcG,EAAuE6I,EAAvE7I,eAAgBE,EAAuD2I,EAAvD3I,cAAeE,EAAwCyI,EAAxCzI,iBAAkBE,EAAsBuI,EAAtBvI,kBACvET,EAAagK,GACb7J,EAAe8J,GACf5J,EAAc6J,GACd3J,EAAiB4J,GACjB1J,EAAkB2J,SAErB,CACDlM,EACAC,EACA7D,EACA8D,EACAE,EACAC,EACAc,EACAZ,EACAE,EACAE,EACAE,EACAC,EACAC,EACAC,EACAC,EACA6J,IAGF,IAAMtL,EAAahC,uBAAY,WAC7B8F,OAAO6I,QAAQC,SACd,IAhHe,EAkHqChP,YAAOhB,EAAM0O,EAAIzN,SAAUyN,EAAIxN,UAA9Ef,EAlHU,EAkHVA,eAAgBC,EAlHN,EAkHMA,eAAgBH,EAlHtB,EAkHsBA,KAAMC,EAlH5B,EAkH4BA,KAExC+P,EAAY3P,mBAAQ,WAgBxB,MAAO,CACLqF,gBAHE+I,EAZF/I,gBAgBAF,gBAJEiJ,EAXFjJ,gBAgBAG,gBALE8I,EAVF9I,gBAgBAa,oBANEiI,EATFjI,oBAgBAX,sBAPE4I,EARF5I,sBAgBAE,qBARE0I,EAPF1I,qBAgBAE,wBATEwI,EANFxI,wBAgBAE,yBAVEsI,EALFtI,yBAgBAC,kBAXEqI,EAJFrI,kBAgBAC,gBAZEoI,EAHFpI,gBAgBAC,mBAbEmI,EAFFnI,mBAgBAC,iBAdEkI,EADFlI,oBAiBD,CAACkI,IAEJ,OAAK3J,EAKH,6BACE,yBAAKpE,UAAU,kBACb,kBAACsC,EAAA,EAAD,CAAQC,MAAK,UAAKU,EAAL,mBAAeC,GAAMT,WAAYA,KAEhD,kBAACvD,EAAA,EAAD,CACEG,KAAMA,EACNG,eAAgBA,EAChBC,eAAgBA,EAChBH,KAAMA,EACNC,KAAMA,IAER,kBAAC,EAAD,CACEwI,KAAM3E,IAER,kBAAC,GAAD,eACEC,UAAWA,EACXF,YAAaA,EACbG,UAAWA,EACXa,gBAAiBA,EACjBZ,YAAaA,EACbE,WAAYA,EACZE,cAAeA,EACfE,eAAgBA,EAChBL,mBAAoBA,EACpBE,kBAAmBA,EACnBE,qBAAsBA,EACtBE,sBAAuBA,EACvBC,eAAgBA,EAChBC,aAAcA,EACdC,gBAAiBA,EACjBC,cAAeA,GACXoL,KAnCD,QCzJXC,IAASC,OACP,kBAAC,IAAD,CAAUC,MAAOA,GACf,kBAAC,GAAD,OAEF/G,SAASgH,eAAe,SAIxBC,O,+BCnBF,kCAYA,IAAMC,EAAczP,QACW,cAA7BoG,OAAO6H,SAASyB,UAEe,UAA7BtJ,OAAO6H,SAASyB,UAEhBtJ,OAAO6H,SAASyB,SAASC,MACvB,2DAIC,SAASC,EAASC,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIC,IAAIC,gBAAwB5J,OAAO6H,SAASvG,MACpDuI,SAAW7J,OAAO6H,SAASgC,OAIvC,OAGF7J,OAAO2C,iBAAiB,QAAQ,WAC9B,IAAMmH,EAAK,UAAMF,gBAAN,sBAEPP,IAgEV,SAAiCS,EAAOL,GAEtCxB,MAAM6B,EAAO,CACXC,QAAS,CAAE,iBAAkB,YAE5B7B,MAAK,SAAA8B,GAEJ,IAAMC,EAAcD,EAASD,QAAQG,IAAI,gBAEnB,MAApBF,EAASG,QACO,MAAfF,IAA8D,IAAvCA,EAAYG,QAAQ,cAG5CV,UAAUN,cAAciB,MAAMnC,MAAK,SAAAoC,GACjCA,EAAaC,aAAarC,MAAK,WAC7BlI,OAAO6H,SAAS2C,eAKpBC,EAAgBX,EAAOL,MAG1BiB,OAAM,WACLC,QAAQC,IACN,oEAvFAC,CAAwBf,EAAOL,GAI/BC,UAAUN,cAAciB,MAAMnC,MAAK,WACjCyC,QAAQC,IACN,iHAMJH,EAAgBX,EAAOL,OAM/B,SAASgB,EAAgBX,EAAOL,GAC9BC,UAAUN,cACPI,SAASM,GACT5B,MAAK,SAAAoC,GACJA,EAAaQ,cAAgB,WAC3B,IAAMC,EAAmBT,EAAaU,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBrL,QACfgK,UAAUN,cAAc8B,YAI1BP,QAAQC,IACN,iHAKEnB,GAAUA,EAAO0B,UACnB1B,EAAO0B,SAASb,KAMlBK,QAAQC,IAAI,sCAGRnB,GAAUA,EAAO2B,WACnB3B,EAAO2B,UAAUd,WAO5BI,OAAM,SAAAW,GACLV,QAAQU,MAAM,4CAA6CA,S","file":"static/js/query.848fdb7c.chunk.js","sourcesContent":["import React, {useMemo, memo} from 'react';\nimport PropTypes from 'prop-types';\nimport dayjs from 'dayjs';\nimport 'dayjs/locale/zh-cn';\n\nimport './Nav.css';\n\nconst Nav = memo(function Nav(props) {\n  const {\n    date,\n    prev,\n    next,\n    isPrevDisabled,\n    isNextDisabled\n  } = props;\n\n  const currentString = useMemo(() => {\n    const d = dayjs(date);\n    return d.format('M 月 D 日 ') + d.locale('zh-cn').format('ddd')\n  }, [date]);\n\n  return (\n    <div className=\"nav\">\n      <span\n        onClick={() => prev()}\n        className={['nav-prev', isPrevDisabled ? 'nav-disabled' : ''].filter(Boolean).join(' ')}\n      >前一天</span>\n      <span className=\"nav-current\">{currentString}</span>\n      <span\n        onClick={() => next()}\n        className={['nav-next', isNextDisabled ? 'nav-disabled' : ''].filter(Boolean).join(' ')}\n      >后一天</span>\n    </div>\n  );\n});\nNav.propTypes = {\n  date: PropTypes.number.isRequired,\n  prev: PropTypes.func.isRequired,\n  next:PropTypes.func.isRequired,\n  isPrevDisabled:PropTypes.bool.isRequired,\n  isNextDisabled:PropTypes.bool.isRequired\n}\n\nexport default Nav","import { useCallback } from 'react';\nimport { h0 } from './fp';\n\nexport default function useNav(date, prevDate, nextDate) {\n  // 选择时间小于今天, 不能购买过去时间的车票\n  // 选择时间超过今天 20 天后, 车票暂不出售\n  const isPrevDisabled = h0(date) <= h0();\n  const isNextDisabled = (h0(date) - h0()) > 20 * 86400 * 1000;\n\n  const prev = useCallback(() => {\n    if (isPrevDisabled) return;\n    prevDate();\n  }, [isPrevDisabled, prevDate]);\n  const next = useCallback(() => {\n    if (isNextDisabled) return;\n    nextDate();\n  }, [isNextDisabled, nextDate]);\n\n  return {\n    isPrevDisabled,\n    isNextDisabled,\n    prev,\n    next\n  }\n}","export function h0(timestamp = Date.now()) {\n  const target = new Date(timestamp);\n\n  target.setHours(0);\n  target.setMinutes(0);\n  target.setSeconds(0);\n  target.setMilliseconds(0);\n\n  return target.getTime();\n}\n\nexport function debounce(fn, cb, wait = 350) {\n  let timer;\n  return function(...args) {\n    let context = this;\n\n    if (timer) {\n      clearTimeout(timer);\n      cb.apply(context, args);\n    }\n\n    timer = setTimeout(() => {\n      fn.apply(context, args);\n    }, wait);\n  };\n}\n","/* This program is free software. It comes without any warranty, to\n     * the extent permitted by applicable law. You can redistribute it\n     * and/or modify it under the terms of the Do What The Fuck You Want\n     * To Public License, Version 2, as published by Sam Hocevar. See\n     * http://www.wtfpl.net/ for more details. */\n'use strict';\nmodule.exports = leftPad;\n\nvar cache = [\n  '',\n  ' ',\n  '  ',\n  '   ',\n  '    ',\n  '     ',\n  '      ',\n  '       ',\n  '        ',\n  '         '\n];\n\nfunction leftPad (str, len, ch) {\n  // convert `str` to a `string`\n  str = str + '';\n  // `len` is the `pad`'s length now\n  len = len - str.length;\n  // doesn't need to pad\n  if (len <= 0) return str;\n  // `ch` defaults to `' '`\n  if (!ch && ch !== 0) ch = ' ';\n  // convert `ch` to a `string` cuz it could be a number\n  ch = ch + '';\n  // cache common use cases\n  if (ch === ' ' && len < 10) return cache[len] + str;\n  // `pad` starts with an empty string\n  var pad = '';\n  // loop\n  while (true) {\n    // add `ch` to `pad` if `len` is odd\n    if (len & 1) pad += ch;\n    // divide `len` by 2, ditch the remainder\n    len >>= 1;\n    // \"double\" the `ch` so this operation count grows logarithmically on `len`\n    // each time `ch` is \"doubled\", the `len` would need to be \"doubled\" too\n    // similar to finding a value in binary search tree, hence O(log(n))\n    if (len) ch += ch;\n    // `len` is 0, exit the loop\n    else break;\n  }\n  // pad `str`!\n  return pad + str;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Header.css'\n\nfunction Header(props) {\n  const { title, isBackVisible=true, handleBack } = props;\n  return (\n    <div className=\"header\">\n      {\n        isBackVisible ?\n          <div className=\"header-back\" onClick={handleBack}>\n            <svg width=\"42\" height=\"42\">\n              <polyline\n                points=\"25,13 16,21 25,29\"\n                stroke=\"#fff\"\n                strokeWidth=\"2\"\n                fill=\"none\"\n              />\n            </svg>\n          </div>\n          : null\n      }\n      \n      <h1 className=\"header-title\">\n        {title}\n      </h1>\n    </div>\n  )\n}\n\nHeader.propTypes = {\n  handleBack: PropTypes.func.isRequired,\n  isBackVisible: PropTypes.bool,\n  title: PropTypes.string.isRequired\n}\n\nexport default Header;","import { ORDER_DEPART } from \"../constants\";\nconst initState = {\n  from: null,\n  to: null,\n  date: Date.now(),\n  isHighSpeed: false,\n  trainList: [],\n  orderType: ORDER_DEPART,\n  hasTicket: false,\n  ticketTypes: [], // 坐席类型\n  checkedTicketTypes: {}, // 坐席类型是否选中\n  trainTypes: [], // 车次类型\n  checkedTrainTypes: {},\n  leaveStations: [],\n  checkedLeaveStations: {},\n  arriveStations: [],\n  checkedArriveStations: {},\n  leaveTimeStart: 0,\n  leaveTimeEnd: 24,\n  arriveTimeStart: 0,\n  arriveTimeEnd: 24,\n  isFiltersActive: false,\n  isSearchParsed: false\n};\n\nexport default initState;","// 维护页面中需要的类型常量\nexport const ORDER_DEPART = 1;\nexport const ORDER_DURATION = 2;\n","import { SET_FROM, SET_TO } from './actionTypes';\n\nexport function setFrom(city) {\n  return {\n    type: SET_FROM,\n    payload: city\n  }\n}\n\nexport function setTo(city) {\n  return {\n    type: SET_TO,\n    payload: city\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case SET_FROM:\n      return { ...state, from: payload };\n    case SET_TO:\n      return {...state, to: payload};\n    default:\n      return state;\n  }\n}\n","export const SET_FROM = 'SET_FROM';\nexport const SET_TO = 'SET_TO';\nexport const SET_DATE = 'SET_DATE';\nexport const SET_HIGH_SPEED = 'SET_HIGH_SPEED';\nexport const SET_TRAIN_LIST = 'SET_TRAIN_LIST';\nexport const SET_ORDER_TYPE = 'SET_ORDER_TYPE';\nexport const TOGGLE_HAS_TICKET = 'TOGGLE_HAS_TICKET';\nexport const SET_TICKET_TYPES = 'SET_TICKET_TYPES';\nexport const SET_CHECKED_TICKET_TYPES = 'SET_CHECKED_TICKET_TYPES';\nexport const SET_TRAIN_TYPES = 'SET_TRAIN_TYPES';\nexport const SET_CHECKED_TRAIN_TYPES = 'SET_CHECKED_TRAIN_TYPES';\nexport const SET_LEAVE_STATIONS = 'SET_LEAVE_STATIONS';\nexport const SET_CHECKED_LEAVE_STATIONS = 'SET_CHECKED_LEAVE_STATIONS';\nexport const SET_ARRIVE_STATIONS = 'SET_ARRIVE_STATIONS';\nexport const SET_CHECKED_ARRIVE_STATION = 'SET_CHECKED_ARRIVE_STATION';\nexport const SET_LEAVE_TIME_START = 'SET_LEAVE_TIME_START';\nexport const SET_LEAVE_TIME_END = 'SET_LEAVE_TIME_END';\nexport const SET_ARRIVE_TIME_START = 'SET_ARRIVE_TIME_START';\nexport const SET_ARRIVE_TIME_END = 'SET_ARRIVE_TIME_END';\nexport const SET_FILTERS_ACTIVE = 'SET_FILTERS_ACTIVE';\nexport const SET_SEARCH_PARSED = 'SET_SEARCH_PARSED';","import { SET_DATE } from \"./actionTypes\";\nimport {h0} from '../../common/fp'\n\nexport function setDate(date) {\n  return {\n    type: SET_DATE,\n    payload: date\n  }\n}\n\nexport function nextDate() {\n  return (dispatch, getState) => {\n    const { date } = getState();\n    dispatch(setDate(h0(date) + 86400 * 1000))\n  }\n}\n\nexport function prevDate() {\n  return (dispatch, getState) => {\n    const { date } = getState();\n    dispatch(setDate(h0(date) - 86400 * 1000))\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case SET_DATE:\n      return { ...state, date: payload };\n    default:\n      return state;\n  }\n}\n","import { SET_HIGH_SPEED, SET_CHECKED_TRAIN_TYPES } from \"./actionTypes\";\n\nexport function setHighSpeed(isHighSpeed) {\n  return {\n    type: SET_HIGH_SPEED,\n    payload: isHighSpeed\n  }\n}\n\nexport function toggleHighSpeed() {\n  return (dispatch, getState) => {\n    const { isHighSpeed } = getState();\n    dispatch(setHighSpeed(!isHighSpeed))\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case SET_HIGH_SPEED:\n      return { ...state, isHighSpeed: payload };\n    case SET_CHECKED_TRAIN_TYPES:\n      const checkedTrainTypes = payload;\n      // 只有两个值, 1 和 5 时, 才是只看高铁\n      const isHighSpeed = Boolean(checkedTrainTypes[1] && checkedTrainTypes[5] && Object.keys(checkedTrainTypes).length === 2);\n      return { ...state, isHighSpeed };\n    default:\n      return state;\n  }\n}\n","import { SET_TRAIN_LIST } from \"./actionTypes\";\n\nexport function setTrainList(trainList) {\n  return {\n    type: SET_TRAIN_LIST,\n    payload: trainList\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case SET_TRAIN_LIST:\n      return { ...state, trainList: payload };\n    default:\n      return state;\n  }\n}\n","import { SET_ORDER_TYPE } from \"./actionTypes\";\nimport { ORDER_DEPART, ORDER_DURATION } from '../constants';\n\nexport function toggleOrderType() {\n  return (dispatch, getState) => {\n    const { orderType } = getState();\n    if (orderType === ORDER_DEPART) {\n      dispatch({\n        type: SET_ORDER_TYPE,\n        payload: ORDER_DURATION\n      })\n    } else {\n      dispatch({\n        type: SET_ORDER_TYPE,\n        payload: ORDER_DEPART\n      })\n    }\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case SET_ORDER_TYPE:\n      return { ...state, orderType: payload };\n    default:\n      return state;\n  }\n}\n","import { TOGGLE_HAS_TICKET } from \"./actionTypes\";\n\nexport function toggleHasTicket() {\n  return (dispatch, getState) => {\n    const { hasTicket } = getState();\n    dispatch({\n      type: TOGGLE_HAS_TICKET,\n      payload: !hasTicket\n    })\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case TOGGLE_HAS_TICKET:\n      return { ...state, hasTicket: payload };\n    default:\n      return state;\n  }\n}\n","import { SET_TICKET_TYPES, SET_CHECKED_TICKET_TYPES } from \"./actionTypes\";\n\nexport function setTicketTypes(ticketTypes) {\n  return {\n    type: SET_TICKET_TYPES,\n    payload: ticketTypes\n  }\n}\nexport function setCheckedTicketTypes(checkedTicketTypes) {\n  return {\n    type: SET_CHECKED_TICKET_TYPES,\n    payload: checkedTicketTypes\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case SET_TICKET_TYPES:\n      return { ...state, ticketTypes: payload };\n    case SET_CHECKED_TICKET_TYPES:\n      return { ...state, checkedTicketTypes: payload };\n    default:\n      return state;\n  }\n}\n","import { SET_TRAIN_TYPES, SET_CHECKED_TRAIN_TYPES, SET_HIGH_SPEED } from \"./actionTypes\";\n\nexport function setTrainTypes(trainTypes) {\n  return {\n    type: SET_TRAIN_TYPES,\n    payload: trainTypes\n  }\n}\nexport function setCheckedTrainTypes(checkedTrainTypes) {\n  return {\n    type: SET_CHECKED_TRAIN_TYPES,\n    payload: checkedTrainTypes\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case SET_TRAIN_TYPES:\n      return { ...state, trainTypes: payload };\n    case SET_HIGH_SPEED:\n      const isHighSpeed = payload;\n      const newCheckedTrainTypes = { ...state.checkedTrainTypes };\n      if (isHighSpeed) {\n        newCheckedTrainTypes[1] = true;\n        newCheckedTrainTypes[5] = true;\n      } else {\n        delete newCheckedTrainTypes[1];\n        delete newCheckedTrainTypes[5];\n      }\n      return { ...state, checkedTrainTypes: newCheckedTrainTypes };\n    case SET_CHECKED_TRAIN_TYPES:\n      return { ...state, checkedTrainTypes: payload };\n    default:\n      return state;\n  }\n}\n","import { SET_LEAVE_STATIONS, SET_CHECKED_LEAVE_STATIONS } from \"./actionTypes\";\n\nexport function setLeaveStations(leaveStations) {\n  return {\n    type: SET_LEAVE_STATIONS,\n    payload: leaveStations\n  }\n}\nexport function setCheckedLeaveStations(checkedLeaveStations) {\n  return {\n    type: SET_CHECKED_LEAVE_STATIONS,\n    payload: checkedLeaveStations\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case SET_LEAVE_STATIONS:\n      return { ...state, leaveStations: payload };\n    case SET_CHECKED_LEAVE_STATIONS:\n      return { ...state, checkedLeaveStations: payload };\n    default:\n      return state;\n  }\n}\n","import { SET_ARRIVE_STATIONS, SET_CHECKED_ARRIVE_STATION } from \"./actionTypes\";\n\nexport function setArriveStations(arriveStations) {\n  return {\n    type: SET_ARRIVE_STATIONS,\n    payload: arriveStations\n  }\n}\nexport function setCheckedArriveStations(checkedArriveStations) {\n  return {\n    type: SET_CHECKED_ARRIVE_STATION,\n    payload: checkedArriveStations\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case SET_ARRIVE_STATIONS:\n      return { ...state, arriveStations: payload };\n    case SET_CHECKED_ARRIVE_STATION:\n      return { ...state, checkedArriveStations: payload };\n    default:\n      return state;\n  }\n}\n","import { SET_LEAVE_TIME_START, SET_LEAVE_TIME_END } from \"./actionTypes\";\n\nexport function setLeaveTimeStart(leaveTimeStart) {\n  return {\n    type: SET_LEAVE_TIME_START,\n    payload: leaveTimeStart\n  }\n}\nexport function setLeaveTimeEnd(leaveTimeEnd) {\n  return {\n    type: SET_LEAVE_TIME_END,\n    payload: leaveTimeEnd\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case SET_LEAVE_TIME_START:\n      return { ...state, leaveTimeStart: payload };\n    case SET_LEAVE_TIME_END:\n      return { ...state, leaveTimeEnd: payload };\n    default:\n      return state;\n  }\n}\n","import { SET_ARRIVE_TIME_START, SET_ARRIVE_TIME_END } from \"./actionTypes\";\n\nexport function setArriveTimeStart(arriveTimeStart) {\n  return {\n    type: SET_ARRIVE_TIME_START,\n    payload: arriveTimeStart\n  }\n}\nexport function setArriveTimeEnd(arriveTimeEnd) {\n  return {\n    type: SET_ARRIVE_TIME_END,\n    payload: arriveTimeEnd\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case SET_ARRIVE_TIME_START:\n      return { ...state, arriveTimeStart: payload };\n    case SET_ARRIVE_TIME_END:\n      return { ...state, arriveTimeEnd: payload };\n    default:\n      return state;\n  }\n}\n","import { SET_FILTERS_ACTIVE } from \"./actionTypes\";\n\nexport function toggleFiltersActive() {\n  return (dispatch, getState) => {\n    const { isFiltersActive } = getState();\n\n    dispatch({\n      type: SET_FILTERS_ACTIVE,\n      payload: !isFiltersActive\n    })\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case SET_FILTERS_ACTIVE:\n      return { ...state, isFiltersActive: payload };\n    default:\n      return state;\n  }\n}\n","import { SET_SEARCH_PARSED } from \"./actionTypes\";\n\nexport function setSearchParsed(isSearchParsed) {\n  return {\n    type: SET_SEARCH_PARSED,\n    payload: isSearchParsed\n  }\n}\n\nexport function reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case SET_SEARCH_PARSED:\n      return { ...state, isSearchParsed: payload };\n    default:\n      return state;\n  }\n}\n","import initState from './initState';\nimport { reducer as setCityReducer } from './setCity';\nimport { reducer as setDateReducer } from './setDate';\nimport { reducer as setHighSpeedReducer } from './setHighSpeed';\nimport { reducer as setTrainListReducer } from './setTrainList';\nimport { reducer as toggleOrderTypeReducer } from './toggleOrderType';\nimport { reducer as toggleHasTicketReducer } from './toggleHasTicket';\nimport { reducer as setTicketTypesReducer } from './setTicketTypes';\nimport { reducer as setTrainTypesReducer } from './setTrainTypes';\nimport { reducer as setLeaveStationsReducer } from './setLeaveStations';\nimport { reducer as setArriveStationsReducer } from './setArriveStations';\nimport { reducer as setLeaveTimeReducer } from './setLeaveTime';\nimport { reducer as setArriveTimeReducer } from './setArriveTime';\nimport { reducer as setFiltersActiveReducer } from './setFiltersActive';\nimport { reducer as setSearchParsedReducer } from './setSearchParsed';\n\nconst reducers = [\n  setCityReducer,\n  setDateReducer,\n  setHighSpeedReducer,\n  setTrainListReducer,\n  toggleOrderTypeReducer,\n  toggleHasTicketReducer,\n  setTicketTypesReducer,\n  setTrainTypesReducer,\n  setLeaveStationsReducer,\n  setArriveStationsReducer,\n  setLeaveTimeReducer,\n  setArriveTimeReducer,\n  setFiltersActiveReducer,\n  setSearchParsedReducer,\n];\n\nexport default function reducer(state = initState, action) {\n  return reducers.reduce((s, r) => r(s, action), state);\n}","import { createStore, applyMiddleware, compose } from \"redux\";\n\nimport reducer from './reducers';\nimport thunk from 'redux-thunk';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport default createStore(\n  reducer,\n  composeEnhancers(applyMiddleware(thunk))\n)","import React, {memo, useMemo} from 'react';\nimport PropTypes from 'prop-types';\nimport URI from 'urijs';\n\nimport './List.css';\n\nconst ListItem = memo(function ListItem(props) {\n  const {\n    dTime,\n    aTime,\n    dStation,\n    aStation,\n    trainNumber,\n    date,\n    time,\n    priceMsg,\n    dayAfter\n  } = props;\n\n  const url = useMemo(() => {\n    return new URI('ticket.html')\n      .setSearch('aStation', aStation)\n      .setSearch('dStation', dStation)\n      .setSearch('trainNumber', trainNumber)\n      .setSearch('date', date)\n      .toString();\n  }, [\n    aStation,\n    dStation,\n    trainNumber,\n    date\n  ]);\n  \n  return (\n    <li className=\"list-item\">\n      <a href={url}>\n        <span className=\"item-time\">\n          <em>{dTime}</em>\n          <br/>\n          <em className=\"em-light\">{aTime} <i className=\"time-after\">{dayAfter}</i></em>\n        </span>\n        <span className=\"item-stations\">\n          <em>\n            <i className=\"train-station train-start\">始</i>\n            {dStation}\n          </em>\n          <br/>\n          <em className=\"em-light\">\n            <i className=\"train-station train-end\">终</i>\n            { aStation }\n          </em>\n        </span>\n        <span className=\"item-train\">\n          <em>{trainNumber}</em>\n          <br />\n          <em className=\"em-light\">{time}</em>\n        </span>\n        <span className=\"item-ticket\">\n          <em>{priceMsg}</em>\n          <br />\n          <em className=\"em-light-orange\">可抢票</em>\n        </span>\n      </a>\n    </li>\n  )\n});\nListItem.propTypes = {\n  dTime: PropTypes.string.isRequired,\n  aTime: PropTypes.string.isRequired,\n  dStation: PropTypes.string.isRequired,\n  aStation: PropTypes.string.isRequired,\n  trainNumber: PropTypes.string.isRequired,\n  date: PropTypes.string.isRequired,\n  time: PropTypes.string.isRequired,\n  priceMsg: PropTypes.string.isRequired,\n  dayAfter: PropTypes.string.isRequired,\n}\n\nconst List = memo(function List(props) {\n  const { list } = props;\n\n  return (\n    <ul className=\"list\">\n      {\n        list.map(item => <ListItem {...item} key={item.trainNumber} />)\n      }\n    </ul>\n  );\n});\nList.propTypes = {\n  list: PropTypes.array.isRequired,\n}\n\nexport default List","import React, { memo, useState, useMemo, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport leftPad from 'left-pad';\nimport useWinSize from '../../common/useWinSize';\nimport './Slider.css';\n\nconst Slider = memo(function Slider(props) {\n  const { title, currentStartHours, currentEndHours, onStartChanged, onEndChanged } = props;\n\n  const winSize = useWinSize();\n\n  const startHandle = useRef();\n  const endHandle = useRef();\n\n  const lastStartX = useRef();\n  const lastEndX = useRef();\n\n  const range = useRef();\n  const rangeWidth = useRef();\n\n  const prevCurrentStartHours = useRef(currentStartHours);\n  const prevCurrentEndHours = useRef(currentEndHours);\n\n  const [start, setStart] = useState(() => (currentStartHours / 24) * 100);\n  const [end, setEnd] = useState(() => (currentEndHours / 24) * 100);\n\n  if (prevCurrentStartHours.current !== currentStartHours) {\n    setStart((currentStartHours / 24) * 100);\n    prevCurrentStartHours.current = currentStartHours;\n  }\n\n  if (prevCurrentEndHours.current !== currentEndHours) {\n    setEnd((currentEndHours / 24) * 100);\n    prevCurrentEndHours.current = currentEndHours;\n  }\n\n  const startPercent = useMemo(() => {\n    if (start > 100) {\n      return 100;\n    }\n\n    if (start < 0) {\n      return 0;\n    }\n\n    return start;\n  }, [start]);\n\n  const endPercent = useMemo(() => {\n    if (end > 100) {\n      return 100;\n    }\n\n    if (end < 0) {\n      return 0;\n    }\n\n    return end;\n  }, [end]);\n\n  const startHours = useMemo(() => {\n    return Math.round((startPercent * 24) / 100);\n  }, [startPercent]);\n\n  const endHours = useMemo(() => {\n    return Math.round((endPercent * 24) / 100);\n  }, [endPercent]);\n\n  const startText = useMemo(() => {\n    return leftPad(startHours, 2, '0') + ':00';\n  }, [startHours]);\n\n  const endText = useMemo(() => {\n    return leftPad(endHours, 2, '0') + ':00';\n  }, [endHours]);\n\n  function onStartTouchBegin(e) {\n    const touch = e.targetTouches[0];\n    lastStartX.current = touch.pageX;\n  }\n\n  function onEndTouchBegin(e) {\n    const touch = e.targetTouches[0];\n    lastEndX.current = touch.pageX;\n  }\n\n  function onStartTouchMove(e) {\n    const touch = e.targetTouches[0];\n    const distance = touch.pageX - lastStartX.current;\n    lastStartX.current = touch.pageX;\n\n    setStart(start => start + (distance / rangeWidth.current) * 100);\n  }\n\n  function onEndTouchMove(e) {\n    const touch = e.targetTouches[0];\n    const distance = touch.pageX - lastEndX.current;\n    lastEndX.current = touch.pageX;\n\n    setEnd(end => end + (distance / rangeWidth.current) * 100);\n  }\n\n  useEffect(() => {\n    rangeWidth.current = parseFloat(window.getComputedStyle(range.current).width);\n  }, [winSize.width]);\n\n  useEffect(() => {\n    const startEl = startHandle.current;\n    const endEl = endHandle.current;\n    startEl.addEventListener('touchstart', onStartTouchBegin, false);\n    startEl.addEventListener('touchmove', onStartTouchMove, false);\n    endEl.addEventListener('touchstart', onEndTouchBegin, false);\n    endEl.addEventListener('touchmove', onEndTouchMove, false);\n\n    return () => {\n      startEl.removeEventListener('touchstart', onStartTouchBegin, false);\n      startEl.removeEventListener('touchmove', onStartTouchMove, false);\n      endEl.removeEventListener('touchstart', onEndTouchBegin, false);\n      endEl.removeEventListener('touchmove', onEndTouchMove, false);\n    };\n  });\n\n  useEffect(() => {\n    onStartChanged(startHours);\n  }, [onStartChanged, startHours]);\n\n  useEffect(() => {\n    onEndChanged(endHours);\n  }, [onEndChanged, endHours]);\n\n  return (\n    <div className='option'>\n      <h3>{title}</h3>\n      <div className='range-slider'>\n        <div className='slider' ref={range}>\n          <div\n            className='slider-range'\n            style={{\n              left: startPercent + '%',\n              width: endPercent - startPercent + '%'\n            }}></div>\n          <i\n            ref={startHandle}\n            className='slider-handle'\n            style={{\n              left: startPercent + '%'\n            }}>\n            <span>{startText}</span>\n          </i>\n          <i\n            ref={endHandle}\n            className='slider-handle'\n            style={{\n              left: endPercent + '%'\n            }}>\n            <span>{endText}</span>\n          </i>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nSlider.propTypes = {\n  title: PropTypes.string.isRequired,\n  currentStartHours: PropTypes.number.isRequired,\n  currentEndHours: PropTypes.number.isRequired,\n  onStartChanged: PropTypes.func.isRequired,\n  onEndChanged: PropTypes.func.isRequired\n};\n\nexport default Slider;\n","import { useState, useEffect } from 'react';\n\nexport default function useWinSize() {\n  const [width, setWidth] = useState(document.documentElement.clientWidth);\n  const [height, setHeight] = useState(document.documentElement.clientHeight);\n\n  const onResize = () => {\n    setWidth(document.documentElement.clientWidth);\n    setHeight(document.documentElement.clientHeight);\n  };\n\n  useEffect(() => {\n    window.addEventListener('resize', onResize, false);\n\n    return () => {\n      window.removeEventListener('resize', onResize, false);\n    };\n  }, []);\n\n  return { width, height };\n}\n","import React, { memo, useMemo, useState, useCallback, useReducer } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './Filter.css';\nimport { ORDER_DEPART } from '../constants';\nimport Slider from './Slider';\n\nfunction checkedReducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case 'toggle':\n      const newState = { ...state };\n      if (payload in newState) {\n        delete newState[payload];\n      } else {\n        newState[payload] = true;\n      }\n      return newState;\n    case 'reset':\n      return {};\n    default:\n      return state;\n  }\n}\n\nconst Option = memo(function Option(props) {\n  const { name, checked, value, dispatch } = props;\n\n  return (\n    <li className={checked ? 'checked' : ''} onClick={() => dispatch({type: 'toggle', payload: value})}>\n      {name}\n    </li>\n  );\n});\nOption.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  checked: PropTypes.bool.isRequired,\n  dispatch: PropTypes.func.isRequired\n};\n\nconst Options = memo(function Options(props) {\n  const { title, options, checkedMap, dispatch } = props;\n\n  return (\n    <div className='option'>\n      <h3>{title}</h3>\n      <ul>\n        {options.map(option => (\n          <Option\n            key={option.value}\n            {...option}\n            checked={option.value in checkedMap}\n            dispatch={dispatch}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n});\nOptions.propTypes = {\n  title: PropTypes.string.isRequired,\n  options: PropTypes.array.isRequired,\n  checkedMap: PropTypes.object.isRequired,\n  dispatch: PropTypes.func.isRequired\n};\n\nconst FilterModal = memo(function FilterModal(props) {\n  const {\n    toggleFiltersActive,\n    ticketTypes,\n    trainTypes,\n    leaveStations,\n    arriveStations,\n    checkedTicketTypes,\n    checkedTrainTypes,\n    checkedLeaveStations,\n    checkedArriveStations,\n    leaveTimeStart,\n    leaveTimeEnd,\n    arriveTimeStart,\n    arriveTimeEnd,\n    setCheckedTicketTypes,\n    setCheckedTrainTypes,\n    setCheckedLeaveStations,\n    setCheckedArriveStations,\n    setLeaveTimeStart,\n    setLeaveTimeEnd,\n    setArriveTimeStart,\n    setArriveTimeEnd\n  } = props;\n\n  const [localCheckedTicketTypes, dispatchLocalCheckedTicketTypes] = useReducer(\n    checkedReducer,\n    checkedTicketTypes,\n    checkedTicketTypes => ({ ...checkedTicketTypes })\n  );\n  const [localCheckedTrainTypes, dispatchLocalCheckedTrainTypes] = useReducer(\n    checkedReducer,\n    checkedTrainTypes,\n    checkedTrainTypes => ({ ...checkedTrainTypes })\n  );\n  const [localCheckedLeaveStations, dispatchLocalCheckedLeaveStations] = useReducer(\n    checkedReducer,\n    checkedLeaveStations,\n    checkedLeaveStations => ({ ...checkedLeaveStations })\n  );\n  const [\n    localCheckedArriveStations,\n    dispatchLocalCheckedArriveStations\n  ] = useReducer(\n    checkedReducer,\n    checkedArriveStations,\n    checkedArriveStations => ({\n    ...checkedArriveStations\n  }));\n\n  const [localLeaveTimeStart, setLocalLeaveTimeStart] = useState(leaveTimeStart);\n  const [localLeaveTimeEnd, setLocalLeaveTimeEnd] = useState(leaveTimeEnd);\n  const [localArriveTimeStart, setLocalArriveTimeStart] = useState(arriveTimeStart);\n  const [localArriveTimeEnd, setLocalArriveTimeEnd] = useState(arriveTimeEnd);\n\n  const isResetDisabled = useMemo(\n    () =>\n      (Object.keys(localCheckedTicketTypes).length === 0 &&\n      Object.keys(localCheckedTrainTypes).length === 0 &&\n      Object.keys(localCheckedLeaveStations).length === 0 &&\n      Object.keys(localCheckedArriveStations).length === 0 &&\n      localLeaveTimeStart === 0 &&\n      localLeaveTimeEnd === 24 &&\n      localArriveTimeStart === 0 &&\n      localArriveTimeEnd === 24),\n    [\n      localCheckedTicketTypes,\n      localCheckedTrainTypes,\n      localCheckedLeaveStations,\n      localCheckedArriveStations,\n      localLeaveTimeStart,\n      localLeaveTimeEnd,\n      localArriveTimeStart,\n      localArriveTimeEnd\n    ]\n  );\n\n  const handleReset = useCallback(() => {\n    if (isResetDisabled) return;\n\n    dispatchLocalCheckedTicketTypes({type: 'reset'});\n    dispatchLocalCheckedTrainTypes({ type: 'reset' });\n    dispatchLocalCheckedLeaveStations({ type: 'reset' });\n    dispatchLocalCheckedArriveStations({ type: 'reset' });\n    setLocalLeaveTimeStart(0);\n    setLocalLeaveTimeEnd(24);\n    setLocalArriveTimeStart(0);\n    setLocalArriveTimeEnd(24);\n  }, [isResetDisabled]);\n\n  const handleSubmit = useCallback(() => {\n    setCheckedTicketTypes(localCheckedTicketTypes);\n    setCheckedTrainTypes(localCheckedTrainTypes);\n    setCheckedLeaveStations(localCheckedLeaveStations);\n    setCheckedArriveStations(localCheckedArriveStations);\n    setLeaveTimeStart(localLeaveTimeStart);\n    setLeaveTimeEnd(localLeaveTimeEnd);\n    setArriveTimeStart(localArriveTimeStart);\n    setArriveTimeEnd(localArriveTimeEnd);\n\n    toggleFiltersActive();\n  }, [\n    setCheckedTicketTypes,\n    setCheckedTrainTypes,\n    setCheckedLeaveStations,\n    setCheckedArriveStations,\n    setLeaveTimeStart,\n    setLeaveTimeEnd,\n    setArriveTimeStart,\n    setArriveTimeEnd,\n    toggleFiltersActive,\n    localCheckedTicketTypes,\n    localCheckedTrainTypes,\n    localCheckedLeaveStations,\n    localCheckedArriveStations,\n    localLeaveTimeStart,\n    localLeaveTimeEnd,\n    localArriveTimeStart,\n    localArriveTimeEnd\n  ]);\n\n  const optionsGroup = [\n    {\n      title: '坐席类型',\n      options: ticketTypes,\n      checkedMap: localCheckedTicketTypes,\n      dispatch: dispatchLocalCheckedTicketTypes\n    },\n    {\n      title: '车次类型',\n      options: trainTypes,\n      checkedMap: localCheckedTrainTypes,\n      dispatch: dispatchLocalCheckedTrainTypes\n    },\n    {\n      title: '出发车站',\n      options: leaveStations,\n      checkedMap: localCheckedLeaveStations,\n      dispatch: dispatchLocalCheckedLeaveStations\n    },\n    {\n      title: '到达车站',\n      options: arriveStations,\n      checkedMap: localCheckedArriveStations,\n      dispatch: dispatchLocalCheckedArriveStations\n    }\n  ];\n\n  return (\n    <div className='filter-modal'>\n      <div className='filter-dialog'>\n        <div className='filter-dialog-content'>\n          <div className='title'>\n            <span\n              className={['reset', isResetDisabled ? 'disabled' : ''].filter(Boolean).join(' ')}\n              onClick={() => handleReset()}>\n              重置\n            </span>\n            <span className='ok' onClick={() => handleSubmit()}>\n              确定\n            </span>\n          </div>\n          <div className='options'>\n            {optionsGroup.map(options => (\n              <Options {...options} key={options.title} />\n            ))}\n            <Slider\n              title='出发时间'\n              currentStartHours={localLeaveTimeStart}\n              currentEndHours={localLeaveTimeEnd}\n              onStartChanged={setLocalLeaveTimeStart}\n              onEndChanged={setLocalLeaveTimeEnd}\n            />\n            <Slider\n              title='到达时间'\n              currentStartHours={localArriveTimeStart}\n              currentEndHours={localArriveTimeEnd}\n              onStartChanged={setLocalArriveTimeStart}\n              onEndChanged={setLocalArriveTimeEnd}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\nFilterModal.propTypes = {\n  toggleFiltersActive: PropTypes.func.isRequired,\n  ticketTypes: PropTypes.array.isRequired,\n  trainTypes: PropTypes.array.isRequired,\n  leaveStations: PropTypes.array.isRequired,\n  arriveStations: PropTypes.array.isRequired,\n  checkedTicketTypes: PropTypes.object.isRequired,\n  checkedTrainTypes: PropTypes.object.isRequired,\n  checkedLeaveStations: PropTypes.object.isRequired,\n  checkedArriveStations: PropTypes.object.isRequired,\n  leaveTimeStart: PropTypes.number.isRequired,\n  leaveTimeEnd: PropTypes.number.isRequired,\n  arriveTimeStart: PropTypes.number.isRequired,\n  arriveTimeEnd: PropTypes.number.isRequired,\n  setCheckedTicketTypes: PropTypes.func.isRequired,\n  setCheckedTrainTypes: PropTypes.func.isRequired,\n  setCheckedLeaveStations: PropTypes.func.isRequired,\n  setCheckedArriveStations: PropTypes.func.isRequired,\n  setLeaveTimeStart: PropTypes.func.isRequired,\n  setLeaveTimeEnd: PropTypes.func.isRequired,\n  setArriveTimeStart: PropTypes.func.isRequired,\n  setArriveTimeEnd: PropTypes.func.isRequired\n};\nfunction Filter(props) {\n  const {\n    orderType,\n    isHighSpeed,\n    hasTicket,\n    isFiltersActive,\n    toggleOrderType,\n    toggleHighSpeed,\n    toggleHasTicket,\n    toggleFiltersActive,\n\n    ticketTypes,\n    trainTypes,\n    leaveStations,\n    arriveStations,\n    checkedTicketTypes,\n    checkedTrainTypes,\n    checkedLeaveStations,\n    checkedArriveStations,\n    leaveTimeStart,\n    leaveTimeEnd,\n    arriveTimeStart,\n    arriveTimeEnd,\n    setCheckedTicketTypes,\n    setCheckedTrainTypes,\n    setCheckedLeaveStations,\n    setCheckedArriveStations,\n    setLeaveTimeStart,\n    setLeaveTimeEnd,\n    setArriveTimeStart,\n    setArriveTimeEnd\n  } = props;\n\n  const noChecked = useMemo(\n    () =>\n      Object.keys(checkedTicketTypes).length === 0 &&\n      Object.keys(checkedTrainTypes).length === 0 &&\n      Object.keys(checkedLeaveStations).length === 0 &&\n      Object.keys(checkedArriveStations).length === 0 &&\n      leaveTimeStart === 0 &&\n      leaveTimeEnd === 24 &&\n      arriveTimeStart === 0 &&\n      arriveTimeEnd === 24,\n    [\n      checkedTicketTypes,\n      checkedTrainTypes,\n      checkedLeaveStations,\n      checkedArriveStations,\n      leaveTimeStart,\n      leaveTimeEnd,\n      arriveTimeStart,\n      arriveTimeEnd\n    ]\n  );\n\n  return (\n    <div className='bottom'>\n      <div className='bottom-filters'>\n        <span className='item' onClick={() => toggleOrderType()}>\n          <i className='icon'>&#xf065;</i>\n          {orderType === ORDER_DEPART ? '出发 早 → 晚' : '耗时 短 → 长'}\n        </span>\n        <span\n          className={['item', isHighSpeed ? 'item-on' : ''].filter(Boolean).join(' ')}\n          onClick={() => toggleHighSpeed()}>\n          <i className='icon'>{isHighSpeed ? '\\uf43f' : '\\uf43e'}</i>\n          只看高铁/动车\n        </span>\n        <span\n          className={['item', hasTicket ? 'item-on' : ''].filter(Boolean).join(' ')}\n          onClick={() => toggleHasTicket()}>\n          <i className='icon'>{hasTicket ? '\\uf43d' : '\\uf43c'}</i>\n          只看有票\n        </span>\n        <span\n          className={['item', (isFiltersActive || !noChecked)? 'item-on' : ''].filter(Boolean).join(' ')}\n          onClick={() => toggleFiltersActive()}>\n          <i className='icon'>{noChecked ? '\\uf0f7' : '\\uf446'}</i>\n          综合筛选\n        </span>\n      </div>\n      {isFiltersActive && (\n        <FilterModal\n          toggleFiltersActive={toggleFiltersActive}\n          ticketTypes={ticketTypes}\n          trainTypes={trainTypes}\n          leaveStations={leaveStations}\n          arriveStations={arriveStations}\n          checkedTicketTypes={checkedTicketTypes}\n          checkedTrainTypes={checkedTrainTypes}\n          checkedLeaveStations={checkedLeaveStations}\n          checkedArriveStations={checkedArriveStations}\n          leaveTimeStart={leaveTimeStart}\n          leaveTimeEnd={leaveTimeEnd}\n          arriveTimeStart={arriveTimeStart}\n          arriveTimeEnd={arriveTimeEnd}\n          setCheckedTicketTypes={setCheckedTicketTypes}\n          setCheckedTrainTypes={setCheckedTrainTypes}\n          setCheckedLeaveStations={setCheckedLeaveStations}\n          setCheckedArriveStations={setCheckedArriveStations}\n          setLeaveTimeStart={setLeaveTimeStart}\n          setLeaveTimeEnd={setLeaveTimeEnd}\n          setArriveTimeStart={setArriveTimeStart}\n          setArriveTimeEnd={setArriveTimeEnd}\n        />\n      )}\n    </div>\n  );\n}\nFilter.propTypes = {\n  orderType: PropTypes.number.isRequired,\n  isHighSpeed: PropTypes.bool.isRequired,\n  hasTicket: PropTypes.bool.isRequired,\n  isFiltersActive: PropTypes.bool.isRequired,\n  toggleOrderType: PropTypes.func.isRequired,\n  toggleHighSpeed: PropTypes.func.isRequired,\n  toggleHasTicket: PropTypes.func.isRequired,\n  toggleFiltersActive: PropTypes.func.isRequired,\n  ticketTypes: PropTypes.array.isRequired,\n  trainTypes: PropTypes.array.isRequired,\n  leaveStations: PropTypes.array.isRequired,\n  arriveStations: PropTypes.array.isRequired,\n  checkedTicketTypes: PropTypes.object.isRequired,\n  checkedTrainTypes: PropTypes.object.isRequired,\n  checkedLeaveStations: PropTypes.object.isRequired,\n  checkedArriveStations: PropTypes.object.isRequired,\n  leaveTimeStart: PropTypes.number.isRequired,\n  leaveTimeEnd: PropTypes.number.isRequired,\n  arriveTimeStart: PropTypes.number.isRequired,\n  arriveTimeEnd: PropTypes.number.isRequired,\n  setCheckedTicketTypes: PropTypes.func.isRequired,\n  setCheckedTrainTypes: PropTypes.func.isRequired,\n  setCheckedLeaveStations: PropTypes.func.isRequired,\n  setCheckedArriveStations: PropTypes.func.isRequired,\n  setLeaveTimeStart: PropTypes.func.isRequired,\n  setLeaveTimeEnd: PropTypes.func.isRequired,\n  setArriveTimeStart: PropTypes.func.isRequired,\n  setArriveTimeEnd: PropTypes.func.isRequired\n};\n\nexport default Filter;\n","import React, {useCallback, useEffect, useMemo} from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\nimport * as actions from './store/actions';\nimport URI from \"urijs\";\nimport dayjs from 'dayjs';\nimport {h0} from '../common/fp';\n\nimport './App.css';\nimport Header from '../common/Header';\nimport Nav from '../common/Nav';\nimport useNav from '../common/useNav';\nimport List from './components/List';\nimport Filter from './components/Filter';\n\nfunction App(props) {\n  const {\n    from,\n    to,\n    date,\n    isHighSpeed,\n    isSearchParsed,\n    orderType,\n    hasTicket,\n    ticketTypes,\n    trainTypes,\n    leaveStations,\n    arriveStations,\n    checkedTicketTypes,\n    checkedTrainTypes,\n    checkedLeaveStations,\n    checkedArriveStations,\n    leaveTimeStart,\n    leaveTimeEnd,\n    arriveTimeStart,\n    arriveTimeEnd,\n    trainList,\n    isFiltersActive,\n    dispatch\n  } = props;\n\n  const cbs = useMemo(() => {\n    return bindActionCreators(actions, dispatch);\n  }, [dispatch]);\n\n  useEffect(() => {\n    const queries = URI.parseQuery(window.location.search);\n\n    const { from, to, date, highSpeed } = queries;\n    const { setFrom, setTo, setDate, setHighSpeed, setSearchParsed } = cbs;\n\n    // 需要注意的是, 解析出来的都是字符串\n    setFrom(from);\n    setTo(to);\n    setDate(h0(dayjs(date).valueOf()));\n    setHighSpeed(highSpeed === 'true');\n\n    setSearchParsed(true);\n  }, [cbs]);\n\n  useEffect(() => {\n    if (!isSearchParsed) return;\n    // 只有当问号参数解析完成后, 才进行数据请求\n\n    const url = new URI('/rest/query')\n      .setSearch('from', from)\n      .setSearch('to', to)\n      .setSearch('date', dayjs(date).format('YYYY-MM-DD'))\n      .setSearch('highSpeed', isHighSpeed)\n      .search('orderType', orderType)\n      .search('hasTicket', hasTicket)\n      .search('isSearchParsed', isSearchParsed)\n      .search('checkedTicketTypes', Object.keys(checkedTicketTypes).join())\n      .search('checkedTrainTypes', Object.keys(checkedTrainTypes).join())\n      .search('checkedLeaveStations', Object.keys(checkedLeaveStations).join())\n      .search('checkedArriveStation', Object.keys(checkedArriveStations).join())\n      .search('leaveTimeStart', leaveTimeStart)\n      .search('leaveTimeEnd', leaveTimeEnd)\n      .search('arriveTimeStart', arriveTimeStart)\n      .search('arriveTimeEnd', arriveTimeEnd)\n      .toString();\n    \n    fetch(url)\n      .then(res => res.json())\n      .then(result => {\n        const {\n          dataMap: {\n            directTrainInfo: {\n              trains,\n              filter: {\n                ticketType,\n                trainType,\n                depStation,\n                arrStation\n              }\n            }\n          }\n        } = result;\n\n        const { setTrainList, setTicketTypes, setTrainTypes, setLeaveStations, setArriveStations } = cbs;\n        setTrainList(trains);\n        setTicketTypes(ticketType);\n        setTrainTypes(trainType);\n        setLeaveStations(depStation);\n        setArriveStations(arrStation);\n      })\n  }, [\n    from,\n    to,\n    date,\n    isHighSpeed,\n    orderType,\n    hasTicket,\n    isSearchParsed,\n    checkedTicketTypes,\n    checkedTrainTypes,\n    checkedLeaveStations,\n    checkedArriveStations,\n    leaveTimeStart,\n    leaveTimeEnd,\n    arriveTimeStart,\n    arriveTimeEnd,\n    cbs\n  ])\n\n  const handleBack = useCallback(() => {\n    window.history.back();\n  }, []);\n\n  const { isPrevDisabled, isNextDisabled, prev, next } = useNav(date, cbs.prevDate, cbs.nextDate);\n\n  const filterCbs = useMemo(() => {\n    const {\n      toggleOrderType,\n      toggleHighSpeed,\n      toggleHasTicket,\n      toggleFiltersActive,\n      setCheckedTicketTypes,\n      setCheckedTrainTypes,\n      setCheckedLeaveStations,\n      setCheckedArriveStations,\n      setLeaveTimeStart,\n      setLeaveTimeEnd,\n      setArriveTimeStart,\n      setArriveTimeEnd,\n    } = cbs;\n\n    return {\n      toggleOrderType,\n      toggleHighSpeed,\n      toggleHasTicket,\n      toggleFiltersActive,\n      setCheckedTicketTypes,\n      setCheckedTrainTypes,\n      setCheckedLeaveStations,\n      setCheckedArriveStations,\n      setLeaveTimeStart,\n      setLeaveTimeEnd,\n      setArriveTimeStart,\n      setArriveTimeEnd,\n    }\n  }, [cbs]);\n\n  if (!isSearchParsed) {\n    return null;\n  }\n\n  return (\n    <div>\n      <div className=\"header-wrapper\">\n        <Header title={`${from} → ${to}`} handleBack={handleBack}/>\n      </div>\n      <Nav\n        date={date}\n        isPrevDisabled={isPrevDisabled}\n        isNextDisabled={isNextDisabled}\n        prev={prev}\n        next={next}\n      />\n      <List\n        list={trainList}\n      />\n      <Filter\n        orderType={orderType}\n        isHighSpeed={isHighSpeed}\n        hasTicket={hasTicket}\n        isFiltersActive={isFiltersActive}\n        ticketTypes={ticketTypes}\n        trainTypes={trainTypes}\n        leaveStations={leaveStations}\n        arriveStations={arriveStations}\n        checkedTicketTypes={checkedTicketTypes}\n        checkedTrainTypes={checkedTrainTypes}\n        checkedLeaveStations={checkedLeaveStations}\n        checkedArriveStations={checkedArriveStations}\n        leaveTimeStart={leaveTimeStart}\n        leaveTimeEnd={leaveTimeEnd}\n        arriveTimeStart={arriveTimeStart}\n        arriveTimeEnd={arriveTimeEnd}\n        {...filterCbs}\n      />\n    </div>\n  )\n}\n\nexport default connect(\n  state => { return {...state} },\n  dispatch => { return {dispatch} }\n)(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport 'normalize.css/normalize.css';\nimport * as serviceWorker from '../serviceWorker';\n\n// 引入样式文件/store/根组件, 完成 index 的初始化\nimport store from './store';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\nif (process.env.NODE_ENV === 'production') {\n  serviceWorker.register();\n} else {\n  serviceWorker.unregister();\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n"],"sourceRoot":""}